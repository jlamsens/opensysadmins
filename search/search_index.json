{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome! Landing page todo.","title":"Home"},{"location":"#welcome","text":"Landing page todo.","title":"Welcome!"},{"location":"tutorials/","text":"Overview TODO: landing page.","title":"Overview"},{"location":"tutorials/#overview","text":"TODO: landing page.","title":"Overview"},{"location":"tutorials/puppet/","text":"Overview Deze instructies zeker nog NIET uitvoeren!","title":"Overview"},{"location":"tutorials/puppet/#overview","text":"Deze instructies zeker nog NIET uitvoeren!","title":"Overview"},{"location":"tutorials/puppet/hands-on-1/","text":"Install puppet-agent on Debian Linux 11.x step0: as this is a lab environment: don't ask for the sudo password guru2@vm2:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER step1: install wget package guru2@vm2:-$ _ 1 2 sudo apt-get update sudo apt-get install wget step2: enable puppet repo guru2@vm2:-$ _ 1 2 3 wget https://apt.puppet.com/puppet7-release-focal.deb sudo dpkg -i puppet7-release-focal.deb sudo apt-get update step3: install puppet package guru2@vm2:-$ _ 1 sudo apt-get install puppet-agent step4: adjust system path guru2@vm2:-$ _ 1 2 echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' >> .bashrc source .bashrc step5: comment (#) sudo path defaults command contents guru2@vm2:-$ _ 1 sudo /usr/sbin/visudo /etc/sudoers 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # # This file MUST be edited with the 'visudo' command as root. # # Please consider adding local content in /etc/sudoers.d/ instead of # directly modifying this file. # # See the man page for details on how to write a sudoers file. # Defaults env_reset Defaults mail_badpass # Defaults secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\" # Host alias specification # User alias specification step6: test puppet guru2@vm2:-$ _ 1 sudo puppet help","title":"Hands-on 1"},{"location":"tutorials/puppet/hands-on-1/#install-puppet-agent-on-debian-linux-11x","text":"","title":"Install puppet-agent on Debian Linux 11.x"},{"location":"tutorials/puppet/hands-on-1/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","text":"guru2@vm2:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER","title":"step0: as this is a lab environment: don't ask for the sudo password"},{"location":"tutorials/puppet/hands-on-1/#step1-install-wget-package","text":"guru2@vm2:-$ _ 1 2 sudo apt-get update sudo apt-get install wget","title":"step1: install wget package"},{"location":"tutorials/puppet/hands-on-1/#step2-enable-puppet-repo","text":"guru2@vm2:-$ _ 1 2 3 wget https://apt.puppet.com/puppet7-release-focal.deb sudo dpkg -i puppet7-release-focal.deb sudo apt-get update","title":"step2: enable puppet repo"},{"location":"tutorials/puppet/hands-on-1/#step3-install-puppet-package","text":"guru2@vm2:-$ _ 1 sudo apt-get install puppet-agent","title":"step3: install puppet package"},{"location":"tutorials/puppet/hands-on-1/#step4-adjust-system-path","text":"guru2@vm2:-$ _ 1 2 echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' >> .bashrc source .bashrc","title":"step4: adjust system path"},{"location":"tutorials/puppet/hands-on-1/#step5-comment-sudo-path-defaults","text":"command contents guru2@vm2:-$ _ 1 sudo /usr/sbin/visudo /etc/sudoers 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # # This file MUST be edited with the 'visudo' command as root. # # Please consider adding local content in /etc/sudoers.d/ instead of # directly modifying this file. # # See the man page for details on how to write a sudoers file. # Defaults env_reset Defaults mail_badpass # Defaults secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\" # Host alias specification # User alias specification","title":"step5: comment (#) sudo path defaults"},{"location":"tutorials/puppet/hands-on-1/#step6-test-puppet","text":"guru2@vm2:-$ _ 1 sudo puppet help","title":"step6: test puppet"},{"location":"tutorials/puppet/hands-on-2/","text":"Explore resource syntax step1: request a file resource description that does not yet exist guru2@vm2:-$ _ 1 puppet resource file /tmp/hello step2: create an empty file and do the request again guru2@vm2:-$ _ 1 2 touch /tmp/hello puppet resource file /tmp/hello step3: modify a file resource using puppet and verify guru2@vm2:-$ _ 1 2 puppet resource file /tmp/hello content = 'Hello world!' cat /tmp/hello step4: request a package resource description that does not yet exist guru2@vm2:-$ _ 1 puppet resource package apache2 step5: install a package resource guru2@vm2:-$ _ 1 sudo puppet resource package apache2 ensure = present step6: describe a package resource that already exists guru2@vm2:-$ _ 1 puppet resource package apache2 step7: create a local puppet file command contents guru2@vm2:-$ _ 1 vi create-tmp-papply.pp /home/guru2/create-tmp-papply.pp 1 2 3 file { '/tmp/papply' : ensure = > present, } step8: execute locally guru2@vm2:-$ _ 1 2 puppet apply create-tmp-papply.pp ls -l /tmp/papply","title":"Hands-on 2"},{"location":"tutorials/puppet/hands-on-2/#explore-resource-syntax","text":"","title":"Explore resource syntax"},{"location":"tutorials/puppet/hands-on-2/#step1-request-a-file-resource-description-that-does-not-yet-exist","text":"guru2@vm2:-$ _ 1 puppet resource file /tmp/hello","title":"step1: request a file resource description that does not yet exist"},{"location":"tutorials/puppet/hands-on-2/#step2-create-an-empty-file-and-do-the-request-again","text":"guru2@vm2:-$ _ 1 2 touch /tmp/hello puppet resource file /tmp/hello","title":"step2: create an empty file and do the request again"},{"location":"tutorials/puppet/hands-on-2/#step3-modify-a-file-resource-using-puppet-and-verify","text":"guru2@vm2:-$ _ 1 2 puppet resource file /tmp/hello content = 'Hello world!' cat /tmp/hello","title":"step3: modify a file resource using puppet and verify"},{"location":"tutorials/puppet/hands-on-2/#step4-request-a-package-resource-description-that-does-not-yet-exist","text":"guru2@vm2:-$ _ 1 puppet resource package apache2","title":"step4: request a package resource description that does not yet exist"},{"location":"tutorials/puppet/hands-on-2/#step5-install-a-package-resource","text":"guru2@vm2:-$ _ 1 sudo puppet resource package apache2 ensure = present","title":"step5: install a package resource"},{"location":"tutorials/puppet/hands-on-2/#step6-describe-a-package-resource-that-already-exists","text":"guru2@vm2:-$ _ 1 puppet resource package apache2","title":"step6: describe a package resource that already exists"},{"location":"tutorials/puppet/hands-on-2/#step7-create-a-local-puppet-file","text":"command contents guru2@vm2:-$ _ 1 vi create-tmp-papply.pp /home/guru2/create-tmp-papply.pp 1 2 3 file { '/tmp/papply' : ensure = > present, }","title":"step7: create a local puppet file"},{"location":"tutorials/puppet/hands-on-2/#step8-execute-locally","text":"guru2@vm2:-$ _ 1 2 puppet apply create-tmp-papply.pp ls -l /tmp/papply","title":"step8: execute locally"},{"location":"tutorials/puppet/hands-on-3/","text":"Install puppetserver on Linux Mint 20.x step0: as this is a lab environment: don't ask for the sudo password guru1@vm1:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER step1: enable puppet repo and refresh package list guru1@vm1:-$ _ 1 2 3 wget https://apt.puppet.com/puppet7-release-focal.deb sudo dpkg -i puppet7-release-focal.deb sudo apt-get update step2: install puppetserver guru1@vm1:-$ _ 1 sudo apt-get install puppetserver -y step3: configure puppetserver command contents guru1@vm1:-$ _ 1 sudo vi /etc/puppetlabs/puppet/puppet.conf /etc/puppetlabs/puppet/puppet.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # This file can be used to override the default puppet settings. # See the following links for more details on what settings are available: # - https://puppet.com/docs/puppet/latest/config_important_settings.html # - https://puppet.com/docs/puppet/latest/config_about_settings.html # - https://puppet.com/docs/puppet/latest/config_file_main.html # - https://puppet.com/docs/puppet/latest/configuration.html [ server ] vardir = /opt/puppetlabs/server/data/puppetserver logdir = /var/log/puppetlabs/puppetserver rundir = /var/run/puppetlabs/puppetserver pidfile = /var/run/puppetlabs/puppetserver/puppetserver.pid codedir = /etc/puppetlabs/code [ main ] certname = vm1.opensysadmins.lab server = vm1.opensysadmins.lab step4: enable at boot, start and verify puppetserver service guru1@vm1:-$ _ 1 2 3 4 sudo systemctl enable puppetserver sudo systemctl start puppetserver systemctl status puppetserver /opt/puppetlabs/bin/puppetserver -v step5: check current certificates guru1@vm1:-$ _ 1 sudo /opt/puppetlabs/bin/puppetserver ca list --all","title":"Hands-on 3"},{"location":"tutorials/puppet/hands-on-3/#install-puppetserver-on-linux-mint-20x","text":"","title":"Install puppetserver on Linux Mint 20.x"},{"location":"tutorials/puppet/hands-on-3/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","text":"guru1@vm1:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER","title":"step0: as this is a lab environment: don't ask for the sudo password"},{"location":"tutorials/puppet/hands-on-3/#step1-enable-puppet-repo-and-refresh-package-list","text":"guru1@vm1:-$ _ 1 2 3 wget https://apt.puppet.com/puppet7-release-focal.deb sudo dpkg -i puppet7-release-focal.deb sudo apt-get update","title":"step1: enable puppet repo and refresh package list"},{"location":"tutorials/puppet/hands-on-3/#step2-install-puppetserver","text":"guru1@vm1:-$ _ 1 sudo apt-get install puppetserver -y","title":"step2: install puppetserver"},{"location":"tutorials/puppet/hands-on-3/#step3-configure-puppetserver","text":"command contents guru1@vm1:-$ _ 1 sudo vi /etc/puppetlabs/puppet/puppet.conf /etc/puppetlabs/puppet/puppet.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # This file can be used to override the default puppet settings. # See the following links for more details on what settings are available: # - https://puppet.com/docs/puppet/latest/config_important_settings.html # - https://puppet.com/docs/puppet/latest/config_about_settings.html # - https://puppet.com/docs/puppet/latest/config_file_main.html # - https://puppet.com/docs/puppet/latest/configuration.html [ server ] vardir = /opt/puppetlabs/server/data/puppetserver logdir = /var/log/puppetlabs/puppetserver rundir = /var/run/puppetlabs/puppetserver pidfile = /var/run/puppetlabs/puppetserver/puppetserver.pid codedir = /etc/puppetlabs/code [ main ] certname = vm1.opensysadmins.lab server = vm1.opensysadmins.lab","title":"step3: configure puppetserver"},{"location":"tutorials/puppet/hands-on-3/#step4-enable-at-boot-start-and-verify-puppetserver-service","text":"guru1@vm1:-$ _ 1 2 3 4 sudo systemctl enable puppetserver sudo systemctl start puppetserver systemctl status puppetserver /opt/puppetlabs/bin/puppetserver -v","title":"step4: enable at boot, start and verify puppetserver service"},{"location":"tutorials/puppet/hands-on-3/#step5-check-current-certificates","text":"guru1@vm1:-$ _ 1 sudo /opt/puppetlabs/bin/puppetserver ca list --all","title":"step5: check current certificates"},{"location":"tutorials/puppet/hands-on-4/","text":"Connect puppet-agent on Debian 11.x to puppetserver on Linux Mint 20.x step1: run puppet manually on the puppet-agent (ask for a certificate) guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime step2: sign and verify the certificate on the puppetserver guru1@vm1:-$ _ 1 2 sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm2.opensysadmins.lab sudo /opt/puppetlabs/bin/puppetserver ca list --all step3: run puppet manually (apply catalog) guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"Hands-on 4"},{"location":"tutorials/puppet/hands-on-4/#connect-puppet-agent-on-debian-11x-to-puppetserver-on-linux-mint-20x","text":"","title":"Connect puppet-agent on Debian 11.x to puppetserver on Linux Mint 20.x"},{"location":"tutorials/puppet/hands-on-4/#step1-run-puppet-manually-on-the-puppet-agent-ask-for-a-certificate","text":"guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"step1: run puppet manually on the puppet-agent (ask for a certificate)"},{"location":"tutorials/puppet/hands-on-4/#step2-sign-and-verify-the-certificate-on-the-puppetserver","text":"guru1@vm1:-$ _ 1 2 sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm2.opensysadmins.lab sudo /opt/puppetlabs/bin/puppetserver ca list --all","title":"step2: sign and verify the certificate on the puppetserver"},{"location":"tutorials/puppet/hands-on-4/#step3-run-puppet-manually-apply-catalog","text":"guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"step3: run puppet manually (apply catalog)"},{"location":"tutorials/puppet/hands-on-5/","text":"Install Visual Studio Code step1: enable Microsoft repo and refresh package list guru1@vm1:-$ _ 1 2 3 4 5 wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/ sudo sh -c 'echo \"deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main\" > /etc/apt/sources.list.d/vscode.list' rm -f packages.microsoft.gpg sudo apt-get update step2: install the package guru1@vm1:-$ _ 1 sudo apt-get install code step3: only 'root' can write in the \"manifest and modules\" directories command output guru1@vm1:-$ _ 1 2 sudo apt-get install tree tree -ugp /etc/puppetlabs/code/environments/production/ /etc/puppetlabs/code/environments/production/ 1 2 3 4 5 6 7 \u251c\u2500\u2500 [ drwxr-xr-x root root ] data \u251c\u2500\u2500 [ -rw-r--r-- root root ] environment.conf \u251c\u2500\u2500 [ -rw-r--r-- root root ] hiera.yaml \u251c\u2500\u2500 [ drwxr-xr-x root root ] manifests \u2514\u2500\u2500 [ drwxr-xr-x root root ] modules 3 directories, 2 files step4: quick fix guru1@vm1:-$ _ 1 sudo chmod o+w /etc/puppetlabs/code/environments/production/ { manifests,modules } step5: open Visual Studio Code in the production directory guru1@vm1:-$ _ 1 2 cd /etc/puppetlabs/code/environments/production/ code . step6: configure Visual Studio Code Trust the author of all files... Close the \"Get Started\" tab Create site.pp + Search marketplace Select \"Puppet: the Official Puppet VSCode extension Click \"Install\" Click \"Don't show again\" Close the \"Extension: Puppet\" tab step7: writing your first main manifest Don't forget to File -> Save (All) step8: run puppet manually (apply catalog) guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"Hands-on 5"},{"location":"tutorials/puppet/hands-on-5/#install-visual-studio-code","text":"","title":"Install Visual Studio Code"},{"location":"tutorials/puppet/hands-on-5/#step1-enable-microsoft-repo-and-refresh-package-list","text":"guru1@vm1:-$ _ 1 2 3 4 5 wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/ sudo sh -c 'echo \"deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main\" > /etc/apt/sources.list.d/vscode.list' rm -f packages.microsoft.gpg sudo apt-get update","title":"step1: enable Microsoft repo and refresh package list"},{"location":"tutorials/puppet/hands-on-5/#step2-install-the-package","text":"guru1@vm1:-$ _ 1 sudo apt-get install code","title":"step2: install the package"},{"location":"tutorials/puppet/hands-on-5/#step3-only-root-can-write-in-the-manifest-and-modules-directories","text":"command output guru1@vm1:-$ _ 1 2 sudo apt-get install tree tree -ugp /etc/puppetlabs/code/environments/production/ /etc/puppetlabs/code/environments/production/ 1 2 3 4 5 6 7 \u251c\u2500\u2500 [ drwxr-xr-x root root ] data \u251c\u2500\u2500 [ -rw-r--r-- root root ] environment.conf \u251c\u2500\u2500 [ -rw-r--r-- root root ] hiera.yaml \u251c\u2500\u2500 [ drwxr-xr-x root root ] manifests \u2514\u2500\u2500 [ drwxr-xr-x root root ] modules 3 directories, 2 files","title":"step3: only 'root' can write in the \"manifest and modules\" directories"},{"location":"tutorials/puppet/hands-on-5/#step4-quick-fix","text":"guru1@vm1:-$ _ 1 sudo chmod o+w /etc/puppetlabs/code/environments/production/ { manifests,modules }","title":"step4: quick fix"},{"location":"tutorials/puppet/hands-on-5/#step5-open-visual-studio-code-in-the-production-directory","text":"guru1@vm1:-$ _ 1 2 cd /etc/puppetlabs/code/environments/production/ code .","title":"step5: open Visual Studio Code in the production directory"},{"location":"tutorials/puppet/hands-on-5/#step6-configure-visual-studio-code","text":"Trust the author of all files... Close the \"Get Started\" tab Create site.pp + Search marketplace Select \"Puppet: the Official Puppet VSCode extension Click \"Install\" Click \"Don't show again\" Close the \"Extension: Puppet\" tab","title":"step6: configure Visual Studio Code"},{"location":"tutorials/puppet/hands-on-5/#step7-writing-your-first-main-manifest","text":"Don't forget to File -> Save (All)","title":"step7: writing your first main manifest"},{"location":"tutorials/puppet/hands-on-5/#step8-run-puppet-manually-apply-catalog","text":"guru2@vm2:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"step8: run puppet manually (apply catalog)"},{"location":"tutorials/puppet/hands-on-6/","text":"Expand manifest and refactor step1: document your code site.pp 1 2 3 4 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } step2: add a package resource site.pp 1 2 3 4 5 6 7 8 9 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the package is installed package { 'nmap' : ensure => installed , } step3: add another package site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the package is installed package { 'nmap' : ensure => installed , } # make sure the package is installed package { 'net-tools' : ensure => installed , } step4: refactor - bundle packages site.pp 1 2 3 4 5 6 7 8 9 10 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } step5: create an user resource site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } step6: add a package (that runs a service) site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed , step7: manage the service - first time \"dependency\" site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed , # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } step8: manage the configuration of the service site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } step9: bundle base resources into a base class site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 class base { # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } } include base # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } step10: bundle ssh resources into a ssh class site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 class base { # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } } include base class ssh { # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } } include ssh step11: create this folder structure step12: extract the base class init.pp site.pp Create a file \"init.pp\" in directory \"base/manifests\", cut the \"base\" class code out of site.pp and paste into init.pp Left over after cutting the \"base\" class. step13: extract the ssh class init.pp site.pp Create a file \"init.pp\" in directory \"ssh/manifests\", cut the \"ssh\" class code out of site.pp and paste into init.pp Left over after cutting the \"ssh\" class. step14: introduction to \"node\" site.pp 1 2 3 4 node 'vm2.opensysadmins.lab' { include base include ssh } step15: let's refactor the ssh class further Create new empty files install.pp, service.pp and configure.pp Adjust ssh/manifests/init.pp with the \"name space syntax\" step16: extract the install, service and config class into their files init.pp install.pp service.pp config.pp 1 2 3 class ssh { include ssh :: install , ssh :: service , ssh :: config } 1 2 3 4 5 6 class ssh :: install { # make sure the package is installed package { 'openssh-server' : ensure => installed , } } 1 2 3 4 5 6 7 8 class ssh :: service { # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } } 1 2 3 4 5 6 7 8 9 10 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } } step17: push a file to the puppet-agent file contents Create new empty file sshd_config Fill it with the \"contents\" Added header Changed listening port sshd_config 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 # # This file is managed by Puppet. Any changes will be overwritten!!! # # $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin # The strategy used for options in the default sshd_config shipped with # OpenSSH is to specify options with their default value where # possible, but leave them commented. Uncommented options override the # default value. Include /etc/ssh/sshd_config.d/*.conf Port 2222 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: #HostKey /etc/ssh/ssh_host_rsa_key #HostKey /etc/ssh/ssh_host_ecdsa_key #HostKey /etc/ssh/ssh_host_ed25519_key # Ciphers and keying #RekeyLimit default none # Logging #SyslogFacility AUTH #LogLevel INFO # Authentication: #LoginGraceTime 2m #PermitRootLogin prohibit-password #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes # Expect .ssh/authorized_keys2 to be disregarded by default in future. #AuthorizedKeysFile .ssh/authorized_keys .ssh/authorized_keys2 #AuthorizedPrincipalsFile none #AuthorizedKeysCommand none #AuthorizedKeysCommandUser nobody # For this to work you will also need host keys in /etc/ssh/ssh_known_hosts #HostbasedAuthentication no # Change to yes if you don't trust ~/.ssh/known_hosts for # HostbasedAuthentication #IgnoreUserKnownHosts no # Don't read the user's ~/.rhosts and ~/.shosts files #IgnoreRhosts yes # To disable tunneled clear text passwords, change to no here! #PasswordAuthentication yes #PermitEmptyPasswords no # Change to yes to enable challenge-response passwords (beware issues with # some PAM modules and threads) ChallengeResponseAuthentication no # Kerberos options #KerberosAuthentication no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes #KerberosGetAFSToken no # GSSAPI options #GSSAPIAuthentication no #GSSAPICleanupCredentials yes #GSSAPIStrictAcceptorCheck yes #GSSAPIKeyExchange no # Set this to 'yes' to enable PAM authentication, account processing, # and session processing. If this is enabled, PAM authentication will # be allowed through the ChallengeResponseAuthentication and # PasswordAuthentication. Depending on your PAM configuration, # PAM authentication via ChallengeResponseAuthentication may bypass # the setting of \"PermitRootLogin without-password\". # If you just want the PAM account and session checks to run without # PAM authentication, then enable this but set PasswordAuthentication # and ChallengeResponseAuthentication to 'no'. UsePAM yes #AllowAgentForwarding yes #AllowTcpForwarding yes #GatewayPorts no X11Forwarding yes #X11DisplayOffset 10 #X11UseLocalhost yes #PermitTTY yes PrintMotd no #PrintLastLog yes #TCPKeepAlive yes #PermitUserEnvironment no #Compression delayed #ClientAliveInterval 0 #ClientAliveCountMax 3 #UseDNS no #PidFile /var/run/sshd.pid #MaxStartups 10:30:100 #PermitTunnel no #ChrootDirectory none #VersionAddendum none # no default banner path #Banner none # Allow client to pass locale environment variables AcceptEnv LANG LC_* # override default of no subsystems Subsystem sftp /usr/lib/openssh/sftp-server # Example of overriding settings on a per-user basis #Match User anoncvs # X11Forwarding no # AllowTcpForwarding no # PermitTTY no # ForceCommand cvs server step18: adjust config config.pp 1 2 3 4 5 6 7 8 9 10 11 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], source => 'puppet:///modules/ssh/sshd_config' , } } step19: push a file to the puppet-agent based on OS file contents Create new empty file sshd_config_rpm Fill it with the \"contents\" Added header sshd_config 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 # # This file is managed by Puppet. Any changes will be overwritten!!! # # $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin # The strategy used for options in the default sshd_config shipped with # OpenSSH is to specify options with their default value where # possible, but leave them commented. Uncommented options override the # default value. # If you want to change the port on a SELinux system, you have to tell # SELinux about this change. # semanage port -a -t ssh_port_t -p tcp #PORTNUMBER # #Port 22 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: HostKey /etc/ssh/ssh_host_rsa_key HostKey /etc/ssh/ssh_host_ecdsa_key HostKey /etc/ssh/ssh_host_ed25519_key # Ciphers and keying #RekeyLimit default none # This system is following system-wide crypto policy. The changes to # crypto properties (Ciphers, MACs, ...) will not have any effect here. # They will be overridden by command-line options passed to the server # on command line. # Please, check manual pages for update-crypto-policies(8) and sshd_config(5). # Logging #SyslogFacility AUTH SyslogFacility AUTHPRIV #LogLevel INFO # Authentication: #LoginGraceTime 2m PermitRootLogin yes #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes # The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2 # but this is overridden so installations will only check .ssh/authorized_keys AuthorizedKeysFile .ssh/authorized_keys #AuthorizedPrincipalsFile none #AuthorizedKeysCommand none #AuthorizedKeysCommandUser nobody # For this to work you will also need host keys in /etc/ssh/ssh_known_hosts #HostbasedAuthentication no # Change to yes if you don't trust ~/.ssh/known_hosts for # HostbasedAuthentication #IgnoreUserKnownHosts no # Don't read the user's ~/.rhosts and ~/.shosts files #IgnoreRhosts yes # To disable tunneled clear text passwords, change to no here! #PasswordAuthentication yes #PermitEmptyPasswords no PasswordAuthentication yes # Change to no to disable s/key passwords #ChallengeResponseAuthentication yes ChallengeResponseAuthentication no # Kerberos options #KerberosAuthentication no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes #KerberosGetAFSToken no #KerberosUseKuserok yes # GSSAPI options GSSAPIAuthentication yes GSSAPICleanupCredentials no #GSSAPIStrictAcceptorCheck yes #GSSAPIKeyExchange no #GSSAPIEnablek5users no # Set this to 'yes' to enable PAM authentication, account processing, # and session processing. If this is enabled, PAM authentication will # be allowed through the ChallengeResponseAuthentication and # PasswordAuthentication. Depending on your PAM configuration, # PAM authentication via ChallengeResponseAuthentication may bypass # the setting of \"PermitRootLogin without-password\". # If you just want the PAM account and session checks to run without # PAM authentication, then enable this but set PasswordAuthentication # and ChallengeResponseAuthentication to 'no'. # WARNING: 'UsePAM no' is not supported in Fedora and may cause several # problems. UsePAM yes #AllowAgentForwarding yes #AllowTcpForwarding yes #GatewayPorts no X11Forwarding yes #X11DisplayOffset 10 #X11UseLocalhost yes #PermitTTY yes # It is recommended to use pam_motd in /etc/pam.d/sshd instead of PrintMotd, # as it is more configurable and versatile than the built-in version. PrintMotd no #PrintLastLog yes #TCPKeepAlive yes #PermitUserEnvironment no #Compression delayed #ClientAliveInterval 0 #ClientAliveCountMax 3 #UseDNS no #PidFile /var/run/sshd.pid #MaxStartups 10:30:100 #PermitTunnel no #ChrootDirectory none #VersionAddendum none # no default banner path #Banner none # Accept locale-related environment variables AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE AcceptEnv XMODIFIERS # override default of no subsystems Subsystem sftp /usr/libexec/openssh/sftp-server # Example of overriding settings on a per-user basis #Match User anoncvs # X11Forwarding no # AllowTcpForwarding no # PermitTTY no # ForceCommand cvs server step20: use conditional logic to determine file source config.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], source => $osfamily ? { / ( Ubuntu | Debian ) / => 'puppet:///modules/ssh/sshd_config' , / ( RedHat | CentOS | Fedora ) / => 'puppet:///modules/ssh/sshd_config_rpm' , }, } }","title":"Hands-on 6"},{"location":"tutorials/puppet/hands-on-6/#expand-manifest-and-refactor","text":"","title":"Expand manifest and refactor"},{"location":"tutorials/puppet/hands-on-6/#step1-document-your-code","text":"site.pp 1 2 3 4 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" }","title":"step1: document your code"},{"location":"tutorials/puppet/hands-on-6/#step2-add-a-package-resource","text":"site.pp 1 2 3 4 5 6 7 8 9 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the package is installed package { 'nmap' : ensure => installed , }","title":"step2: add a package resource"},{"location":"tutorials/puppet/hands-on-6/#step3-add-another-package","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the package is installed package { 'nmap' : ensure => installed , } # make sure the package is installed package { 'net-tools' : ensure => installed , }","title":"step3: add another package"},{"location":"tutorials/puppet/hands-on-6/#step4-refactor-bundle-packages","text":"site.pp 1 2 3 4 5 6 7 8 9 10 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , }","title":"step4: refactor - bundle packages"},{"location":"tutorials/puppet/hands-on-6/#step5-create-an-user-resource","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , }","title":"step5: create an user resource"},{"location":"tutorials/puppet/hands-on-6/#step6-add-a-package-that-runs-a-service","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed ,","title":"step6: add a package (that runs a service)"},{"location":"tutorials/puppet/hands-on-6/#step7-manage-the-service-first-time-dependency","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed , # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], }","title":"step7: manage the service - first time \"dependency\""},{"location":"tutorials/puppet/hands-on-6/#step8-manage-the-configuration-of-the-service","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], }","title":"step8: manage the configuration of the service"},{"location":"tutorials/puppet/hands-on-6/#step9-bundle-base-resources-into-a-base-class","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 class base { # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } } include base # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], }","title":"step9: bundle base resources into a base class"},{"location":"tutorials/puppet/hands-on-6/#step10-bundle-ssh-resources-into-a-ssh-class","text":"site.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 class base { # this file gives a nice message at logon file { '/etc/motd' : content => \"This file is managed by Puppet. Do not change manually!\\n\" } # make sure the packages are installed package {[ 'nmap' , 'net-tools' ]: ensure => installed , } # create user without password user { 'vdab' : ensure => present , uid => '1001' , comment => 'System admin' , shell => '/bin/bash' , managehome => true , } } include base class ssh { # make sure the package is installed package { 'openssh-server' : ensure => installed , } # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } } include ssh","title":"step10: bundle ssh resources into a ssh class"},{"location":"tutorials/puppet/hands-on-6/#step11-create-this-folder-structure","text":"","title":"step11: create this folder structure"},{"location":"tutorials/puppet/hands-on-6/#step12-extract-the-base-class","text":"init.pp site.pp Create a file \"init.pp\" in directory \"base/manifests\", cut the \"base\" class code out of site.pp and paste into init.pp Left over after cutting the \"base\" class.","title":"step12: extract the base class"},{"location":"tutorials/puppet/hands-on-6/#step13-extract-the-ssh-class","text":"init.pp site.pp Create a file \"init.pp\" in directory \"ssh/manifests\", cut the \"ssh\" class code out of site.pp and paste into init.pp Left over after cutting the \"ssh\" class.","title":"step13: extract the ssh class"},{"location":"tutorials/puppet/hands-on-6/#step14-introduction-to-node","text":"site.pp 1 2 3 4 node 'vm2.opensysadmins.lab' { include base include ssh }","title":"step14: introduction to \"node\""},{"location":"tutorials/puppet/hands-on-6/#step15-lets-refactor-the-ssh-class-further","text":"Create new empty files install.pp, service.pp and configure.pp Adjust ssh/manifests/init.pp with the \"name space syntax\"","title":"step15: let's refactor the ssh class further"},{"location":"tutorials/puppet/hands-on-6/#step16-extract-the-install-service-and-config-class-into-their-files","text":"init.pp install.pp service.pp config.pp 1 2 3 class ssh { include ssh :: install , ssh :: service , ssh :: config } 1 2 3 4 5 6 class ssh :: install { # make sure the package is installed package { 'openssh-server' : ensure => installed , } } 1 2 3 4 5 6 7 8 class ssh :: service { # make sure the service is started at boot time, running at all times but only if it is installed service { 'sshd' : enable => true , ensure => running , require => Package [ 'openssh-server' ], } } 1 2 3 4 5 6 7 8 9 10 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], } }","title":"step16: extract the install, service and config class into their files"},{"location":"tutorials/puppet/hands-on-6/#step17-push-a-file-to-the-puppet-agent","text":"file contents Create new empty file sshd_config Fill it with the \"contents\" Added header Changed listening port sshd_config 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 # # This file is managed by Puppet. Any changes will be overwritten!!! # # $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin # The strategy used for options in the default sshd_config shipped with # OpenSSH is to specify options with their default value where # possible, but leave them commented. Uncommented options override the # default value. Include /etc/ssh/sshd_config.d/*.conf Port 2222 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: #HostKey /etc/ssh/ssh_host_rsa_key #HostKey /etc/ssh/ssh_host_ecdsa_key #HostKey /etc/ssh/ssh_host_ed25519_key # Ciphers and keying #RekeyLimit default none # Logging #SyslogFacility AUTH #LogLevel INFO # Authentication: #LoginGraceTime 2m #PermitRootLogin prohibit-password #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes # Expect .ssh/authorized_keys2 to be disregarded by default in future. #AuthorizedKeysFile .ssh/authorized_keys .ssh/authorized_keys2 #AuthorizedPrincipalsFile none #AuthorizedKeysCommand none #AuthorizedKeysCommandUser nobody # For this to work you will also need host keys in /etc/ssh/ssh_known_hosts #HostbasedAuthentication no # Change to yes if you don't trust ~/.ssh/known_hosts for # HostbasedAuthentication #IgnoreUserKnownHosts no # Don't read the user's ~/.rhosts and ~/.shosts files #IgnoreRhosts yes # To disable tunneled clear text passwords, change to no here! #PasswordAuthentication yes #PermitEmptyPasswords no # Change to yes to enable challenge-response passwords (beware issues with # some PAM modules and threads) ChallengeResponseAuthentication no # Kerberos options #KerberosAuthentication no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes #KerberosGetAFSToken no # GSSAPI options #GSSAPIAuthentication no #GSSAPICleanupCredentials yes #GSSAPIStrictAcceptorCheck yes #GSSAPIKeyExchange no # Set this to 'yes' to enable PAM authentication, account processing, # and session processing. If this is enabled, PAM authentication will # be allowed through the ChallengeResponseAuthentication and # PasswordAuthentication. Depending on your PAM configuration, # PAM authentication via ChallengeResponseAuthentication may bypass # the setting of \"PermitRootLogin without-password\". # If you just want the PAM account and session checks to run without # PAM authentication, then enable this but set PasswordAuthentication # and ChallengeResponseAuthentication to 'no'. UsePAM yes #AllowAgentForwarding yes #AllowTcpForwarding yes #GatewayPorts no X11Forwarding yes #X11DisplayOffset 10 #X11UseLocalhost yes #PermitTTY yes PrintMotd no #PrintLastLog yes #TCPKeepAlive yes #PermitUserEnvironment no #Compression delayed #ClientAliveInterval 0 #ClientAliveCountMax 3 #UseDNS no #PidFile /var/run/sshd.pid #MaxStartups 10:30:100 #PermitTunnel no #ChrootDirectory none #VersionAddendum none # no default banner path #Banner none # Allow client to pass locale environment variables AcceptEnv LANG LC_* # override default of no subsystems Subsystem sftp /usr/lib/openssh/sftp-server # Example of overriding settings on a per-user basis #Match User anoncvs # X11Forwarding no # AllowTcpForwarding no # PermitTTY no # ForceCommand cvs server","title":"step17: push a file to the puppet-agent"},{"location":"tutorials/puppet/hands-on-6/#step18-adjust-config","text":"config.pp 1 2 3 4 5 6 7 8 9 10 11 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], source => 'puppet:///modules/ssh/sshd_config' , } }","title":"step18: adjust config"},{"location":"tutorials/puppet/hands-on-6/#step19-push-a-file-to-the-puppet-agent-based-on-os","text":"file contents Create new empty file sshd_config_rpm Fill it with the \"contents\" Added header sshd_config 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 # # This file is managed by Puppet. Any changes will be overwritten!!! # # $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin # The strategy used for options in the default sshd_config shipped with # OpenSSH is to specify options with their default value where # possible, but leave them commented. Uncommented options override the # default value. # If you want to change the port on a SELinux system, you have to tell # SELinux about this change. # semanage port -a -t ssh_port_t -p tcp #PORTNUMBER # #Port 22 #AddressFamily any #ListenAddress 0.0.0.0 #ListenAddress :: HostKey /etc/ssh/ssh_host_rsa_key HostKey /etc/ssh/ssh_host_ecdsa_key HostKey /etc/ssh/ssh_host_ed25519_key # Ciphers and keying #RekeyLimit default none # This system is following system-wide crypto policy. The changes to # crypto properties (Ciphers, MACs, ...) will not have any effect here. # They will be overridden by command-line options passed to the server # on command line. # Please, check manual pages for update-crypto-policies(8) and sshd_config(5). # Logging #SyslogFacility AUTH SyslogFacility AUTHPRIV #LogLevel INFO # Authentication: #LoginGraceTime 2m PermitRootLogin yes #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes # The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2 # but this is overridden so installations will only check .ssh/authorized_keys AuthorizedKeysFile .ssh/authorized_keys #AuthorizedPrincipalsFile none #AuthorizedKeysCommand none #AuthorizedKeysCommandUser nobody # For this to work you will also need host keys in /etc/ssh/ssh_known_hosts #HostbasedAuthentication no # Change to yes if you don't trust ~/.ssh/known_hosts for # HostbasedAuthentication #IgnoreUserKnownHosts no # Don't read the user's ~/.rhosts and ~/.shosts files #IgnoreRhosts yes # To disable tunneled clear text passwords, change to no here! #PasswordAuthentication yes #PermitEmptyPasswords no PasswordAuthentication yes # Change to no to disable s/key passwords #ChallengeResponseAuthentication yes ChallengeResponseAuthentication no # Kerberos options #KerberosAuthentication no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes #KerberosGetAFSToken no #KerberosUseKuserok yes # GSSAPI options GSSAPIAuthentication yes GSSAPICleanupCredentials no #GSSAPIStrictAcceptorCheck yes #GSSAPIKeyExchange no #GSSAPIEnablek5users no # Set this to 'yes' to enable PAM authentication, account processing, # and session processing. If this is enabled, PAM authentication will # be allowed through the ChallengeResponseAuthentication and # PasswordAuthentication. Depending on your PAM configuration, # PAM authentication via ChallengeResponseAuthentication may bypass # the setting of \"PermitRootLogin without-password\". # If you just want the PAM account and session checks to run without # PAM authentication, then enable this but set PasswordAuthentication # and ChallengeResponseAuthentication to 'no'. # WARNING: 'UsePAM no' is not supported in Fedora and may cause several # problems. UsePAM yes #AllowAgentForwarding yes #AllowTcpForwarding yes #GatewayPorts no X11Forwarding yes #X11DisplayOffset 10 #X11UseLocalhost yes #PermitTTY yes # It is recommended to use pam_motd in /etc/pam.d/sshd instead of PrintMotd, # as it is more configurable and versatile than the built-in version. PrintMotd no #PrintLastLog yes #TCPKeepAlive yes #PermitUserEnvironment no #Compression delayed #ClientAliveInterval 0 #ClientAliveCountMax 3 #UseDNS no #PidFile /var/run/sshd.pid #MaxStartups 10:30:100 #PermitTunnel no #ChrootDirectory none #VersionAddendum none # no default banner path #Banner none # Accept locale-related environment variables AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE AcceptEnv XMODIFIERS # override default of no subsystems Subsystem sftp /usr/libexec/openssh/sftp-server # Example of overriding settings on a per-user basis #Match User anoncvs # X11Forwarding no # AllowTcpForwarding no # PermitTTY no # ForceCommand cvs server","title":"step19: push a file to the puppet-agent based on OS"},{"location":"tutorials/puppet/hands-on-6/#step20-use-conditional-logic-to-determine-file-source","text":"config.pp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class ssh :: config { # this file is for customizing ssh settings file { '/etc/ssh/sshd_config' : ensure => present , owner => 'root' , group => 'root' , mode => '0600' , notify => Service [ 'sshd' ], source => $osfamily ? { / ( Ubuntu | Debian ) / => 'puppet:///modules/ssh/sshd_config' , / ( RedHat | CentOS | Fedora ) / => 'puppet:///modules/ssh/sshd_config_rpm' , }, } }","title":"step20: use conditional logic to determine file source"},{"location":"tutorials/puppet/hands-on-7/","text":"Install puppet-agent on Rocky Linux 8.5 step0: as this is a lab environment: don't ask for the sudo password guru3@vm3:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER step1: enable puppet repo (run the rpm tool in upgrade mode) guru3@vm3:-$ _ 1 sudo rpm -Uvh https://yum.puppet.com/puppet7-release-el-8.noarch.rpm step2: install package guru3@vm3:-$ _ 1 sudo yum install puppet-agent step3: adjust system path guru3@vm3:-$ _ 1 2 echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' >> .bashrc source .bashrc step4: comment (#) sudo path defaults command contents guru3@vm3:-$ _ 1 sudo /usr/sbin/visudo /etc/sudoers 1 2 3 4 5 6 7 8 9 10 11 12 ## Sudoers allows particular users to run various commands as ## the root user, without needing the root password. ## ## Examples are provided at the bottom of the file for collections ## of related commands, which can then be delegated out to particular ## users or groups. ## ... ... # Defaults secure_path = /sbin:/bin:/usr/sbin:/usr/bin ... ... step5: test puppet guru3@vm3:-$ _ 1 sudo puppet help step6: adjust the main manifest to include vm3 site.pp 1 2 3 4 node 'vm2.opensysadmins.lab' , 'vm3.opensysadmins.lab' { include base include ssh }","title":"Hands-on 7"},{"location":"tutorials/puppet/hands-on-7/#install-puppet-agent-on-rocky-linux-85","text":"","title":"Install puppet-agent on Rocky Linux 8.5"},{"location":"tutorials/puppet/hands-on-7/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","text":"guru3@vm3:-$ _ 1 echo \" $USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/ $USER","title":"step0: as this is a lab environment: don't ask for the sudo password"},{"location":"tutorials/puppet/hands-on-7/#step1-enable-puppet-repo-run-the-rpm-tool-in-upgrade-mode","text":"guru3@vm3:-$ _ 1 sudo rpm -Uvh https://yum.puppet.com/puppet7-release-el-8.noarch.rpm","title":"step1: enable puppet repo (run the rpm tool in upgrade mode)"},{"location":"tutorials/puppet/hands-on-7/#step2-install-package","text":"guru3@vm3:-$ _ 1 sudo yum install puppet-agent","title":"step2: install package"},{"location":"tutorials/puppet/hands-on-7/#step3-adjust-system-path","text":"guru3@vm3:-$ _ 1 2 echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' >> .bashrc source .bashrc","title":"step3: adjust system path"},{"location":"tutorials/puppet/hands-on-7/#step4-comment-sudo-path-defaults","text":"command contents guru3@vm3:-$ _ 1 sudo /usr/sbin/visudo /etc/sudoers 1 2 3 4 5 6 7 8 9 10 11 12 ## Sudoers allows particular users to run various commands as ## the root user, without needing the root password. ## ## Examples are provided at the bottom of the file for collections ## of related commands, which can then be delegated out to particular ## users or groups. ## ... ... # Defaults secure_path = /sbin:/bin:/usr/sbin:/usr/bin ... ...","title":"step4: comment (#) sudo path defaults"},{"location":"tutorials/puppet/hands-on-7/#step5-test-puppet","text":"guru3@vm3:-$ _ 1 sudo puppet help","title":"step5: test puppet"},{"location":"tutorials/puppet/hands-on-7/#step6-adjust-the-main-manifest-to-include-vm3","text":"site.pp 1 2 3 4 node 'vm2.opensysadmins.lab' , 'vm3.opensysadmins.lab' { include base include ssh }","title":"step6: adjust the main manifest to include vm3"},{"location":"tutorials/puppet/hands-on-8/","text":"Connect puppet-agent on Rocky 6.x to puppetserver on Linux Mint 20.x step1: run puppet manually (ask for a certificate) guru3@vm3:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime step2: sign and verify the certificate on the puppetserver guru1@vm1:-$ _ 1 2 sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm2.opensysadmins.lab sudo /opt/puppetlabs/bin/puppetserver ca list --all step3: run puppet manually (apply catalog) guru3@vm3:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"Hands-on 8"},{"location":"tutorials/puppet/hands-on-8/#connect-puppet-agent-on-rocky-6x-to-puppetserver-on-linux-mint-20x","text":"","title":"Connect puppet-agent on Rocky 6.x to puppetserver on Linux Mint 20.x"},{"location":"tutorials/puppet/hands-on-8/#step1-run-puppet-manually-ask-for-a-certificate","text":"guru3@vm3:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"step1: run puppet manually (ask for a certificate)"},{"location":"tutorials/puppet/hands-on-8/#step2-sign-and-verify-the-certificate-on-the-puppetserver","text":"guru1@vm1:-$ _ 1 2 sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm2.opensysadmins.lab sudo /opt/puppetlabs/bin/puppetserver ca list --all","title":"step2: sign and verify the certificate on the puppetserver"},{"location":"tutorials/puppet/hands-on-8/#step3-run-puppet-manually-apply-catalog","text":"guru3@vm3:-$ _ 1 sudo puppet agent --server = vm1.opensysadmins.lab --no-daemonize --verbose --onetime","title":"step3: run puppet manually (apply catalog)"},{"location":"tutorials/virtualbox-windows/","text":"Overview Landing page.","title":"Overview"},{"location":"tutorials/virtualbox-windows/#overview","text":"Landing page.","title":"Overview"},{"location":"tutorials/virtualbox-windows/configure-os/","text":"Configuration operating system Linux Mint 20.X IPv4/default gateway/DNS Step1 Step2 Step3 Rechtsklik op het \"netwerk icoontje\". Gebruik de \"schuif button\" bij \"Wired\" om de connectie te activeren. Mocht de \"Connection established\" niet verschijnen, moet je mogelijks \"herstarten\". Full update 1 / 2 Step1 Step2 Step3 Step4 Step5 Step6 Klik voorlopig op \"No\" in de blauwe balk. Mogelijks is een nieuwe versie van de \"Update Manager\" beschikbaar. Doe de update. Reminder: password is \"guru1\". Full update 2 / 2 Step7 Step8 Step9 Step10 Step11 Step12 Reminder: paswoord is \"guru1\". Ignore system reports Step1 Step2 Menu -> Administration -> System Reports. Selecteer telkens \"Ignore this report\" bij alle openstaande \"reports\". Resolving host names Step1 Step2 Reminder: password is \"guru1\". Text editor \"nano\" wijst zichzelf uit. Gebruikers van \"vi\", laat je gaan! Shutdown We verwijderen nog gauw even onze commando historiek en zetten de machine uit. Debian 11.X IPv4/default gateway/DNS Step1 Step2 Step3 Step4 Step5 Step6 Login met gebruiker \"guru2\". Password is ook \"guru2\". De netwerkinterface heet \"enp0s3\". We gaan die configureren. Neem onderstaande configuratie over. Instellen nameserver. Neem onderstaande configuratie over. Herstart de netwerk service. Vervolgens zou de ping moeten lukken. Full update Step1 Step2 Step3 Step4 Configuratie van de package source file. Dit wordt het meeste typwerk. Geen fouten maken! ;-) Bijwerken van de lijst met beschikbare pakketten en hun versies. Uitvoeren van de effectieve \"upgrade\" van alle ge\u00efnstalleerde pakketten. Resolving host names Step1 Step2 Shutdown Rocky Linux 8.X IPv4/default gateway/DNS Step1 Step2 Step3 Step4 Inloggen met \"guru3\". Password is ook \"guru3\". Neem onderstaande configuratie over. Sommige regels zijn reeds aanwezig (en/of moeten aangepast worden). Herstart de netwerk service. Vervolgens zou de ping moeten lukken. Full update Step1 Step2 Step3 Resolving host names Step1 Step2 Step3 Step4 Of gebruik \"nano\" indien meer comfortabel. Shutdown","title":"Configure OS"},{"location":"tutorials/virtualbox-windows/configure-os/#configuration-operating-system","text":"","title":"Configuration operating system"},{"location":"tutorials/virtualbox-windows/configure-os/#linux-mint-20x","text":"","title":"Linux Mint 20.X"},{"location":"tutorials/virtualbox-windows/configure-os/#ipv4default-gatewaydns","text":"Step1 Step2 Step3 Rechtsklik op het \"netwerk icoontje\". Gebruik de \"schuif button\" bij \"Wired\" om de connectie te activeren. Mocht de \"Connection established\" niet verschijnen, moet je mogelijks \"herstarten\".","title":"IPv4/default gateway/DNS"},{"location":"tutorials/virtualbox-windows/configure-os/#full-update-1-2","text":"Step1 Step2 Step3 Step4 Step5 Step6 Klik voorlopig op \"No\" in de blauwe balk. Mogelijks is een nieuwe versie van de \"Update Manager\" beschikbaar. Doe de update. Reminder: password is \"guru1\".","title":"Full update 1 / 2"},{"location":"tutorials/virtualbox-windows/configure-os/#full-update-2-2","text":"Step7 Step8 Step9 Step10 Step11 Step12 Reminder: paswoord is \"guru1\".","title":"Full update 2 / 2"},{"location":"tutorials/virtualbox-windows/configure-os/#ignore-system-reports","text":"Step1 Step2 Menu -> Administration -> System Reports. Selecteer telkens \"Ignore this report\" bij alle openstaande \"reports\".","title":"Ignore system reports"},{"location":"tutorials/virtualbox-windows/configure-os/#resolving-host-names","text":"Step1 Step2 Reminder: password is \"guru1\". Text editor \"nano\" wijst zichzelf uit. Gebruikers van \"vi\", laat je gaan!","title":"Resolving host names"},{"location":"tutorials/virtualbox-windows/configure-os/#shutdown","text":"We verwijderen nog gauw even onze commando historiek en zetten de machine uit.","title":"Shutdown"},{"location":"tutorials/virtualbox-windows/configure-os/#debian-11x","text":"","title":"Debian 11.X"},{"location":"tutorials/virtualbox-windows/configure-os/#ipv4default-gatewaydns_1","text":"Step1 Step2 Step3 Step4 Step5 Step6 Login met gebruiker \"guru2\". Password is ook \"guru2\". De netwerkinterface heet \"enp0s3\". We gaan die configureren. Neem onderstaande configuratie over. Instellen nameserver. Neem onderstaande configuratie over. Herstart de netwerk service. Vervolgens zou de ping moeten lukken.","title":"IPv4/default gateway/DNS"},{"location":"tutorials/virtualbox-windows/configure-os/#full-update","text":"Step1 Step2 Step3 Step4 Configuratie van de package source file. Dit wordt het meeste typwerk. Geen fouten maken! ;-) Bijwerken van de lijst met beschikbare pakketten en hun versies. Uitvoeren van de effectieve \"upgrade\" van alle ge\u00efnstalleerde pakketten.","title":"Full update"},{"location":"tutorials/virtualbox-windows/configure-os/#resolving-host-names_1","text":"Step1 Step2","title":"Resolving host names"},{"location":"tutorials/virtualbox-windows/configure-os/#shutdown_1","text":"","title":"Shutdown"},{"location":"tutorials/virtualbox-windows/configure-os/#rocky-linux-8x","text":"","title":"Rocky Linux 8.X"},{"location":"tutorials/virtualbox-windows/configure-os/#ipv4default-gatewaydns_2","text":"Step1 Step2 Step3 Step4 Inloggen met \"guru3\". Password is ook \"guru3\". Neem onderstaande configuratie over. Sommige regels zijn reeds aanwezig (en/of moeten aangepast worden). Herstart de netwerk service. Vervolgens zou de ping moeten lukken.","title":"IPv4/default gateway/DNS"},{"location":"tutorials/virtualbox-windows/configure-os/#full-update_1","text":"Step1 Step2 Step3","title":"Full update"},{"location":"tutorials/virtualbox-windows/configure-os/#resolving-host-names_2","text":"Step1 Step2 Step3 Step4 Of gebruik \"nano\" indien meer comfortabel.","title":"Resolving host names"},{"location":"tutorials/virtualbox-windows/configure-os/#shutdown_2","text":"","title":"Shutdown"},{"location":"tutorials/virtualbox-windows/configure-vb/","text":"Configuration VirtualBox 6.1.x Preferences No updates Add NAT network Edit NAT network NAT network details Opgelet: DHCP uitzetten. NAT network renamed","title":"Configure VB"},{"location":"tutorials/virtualbox-windows/configure-vb/#configuration-virtualbox-61x","text":"","title":"Configuration VirtualBox 6.1.x"},{"location":"tutorials/virtualbox-windows/configure-vb/#preferences","text":"","title":"Preferences"},{"location":"tutorials/virtualbox-windows/configure-vb/#no-updates","text":"","title":"No updates"},{"location":"tutorials/virtualbox-windows/configure-vb/#add-nat-network","text":"","title":"Add NAT network"},{"location":"tutorials/virtualbox-windows/configure-vb/#edit-nat-network","text":"","title":"Edit NAT network"},{"location":"tutorials/virtualbox-windows/configure-vb/#nat-network-details","text":"Opgelet: DHCP uitzetten.","title":"NAT network details"},{"location":"tutorials/virtualbox-windows/configure-vb/#nat-network-renamed","text":"","title":"NAT network renamed"},{"location":"tutorials/virtualbox-windows/configure-vm/","text":"Configuration virtual machine Doorloop eerst onderstaande tabbladen voor \"Linux Mint 20.x\". Vervolgens voor \"Debian 11.x\" en finaal voor \"Rocky Linux 8.5\". Ga dan pas naar \"Install OS\". Download ISO Linux Mint 20.X Debian 11.X Rocky Linux 8.X Settings Linux Mint 20.X Debian 11.X Rocky Linux 8.X Clipboard Linux Mint 20.X Debian 11.X Rocky Linux 8.X Boot order Linux Mint 20.X Debian 11.X Rocky Linux 8.X Je mag - ondanks de screenshot - de memory voor Linux Mint verhogen naar 4096 MB (4 GB) RAM. Later installeren we nl. de puppetserver. Processor vCPUs Linux Mint 20.X Debian 11.X Rocky Linux 8.X Video memory Linux Mint 20.X Debian 11.X Rocky Linux 8.X Make sure you enable \"3D Acceleration\". Insert ISO Linux Mint 20.X Debian 11.X Rocky Linux 8.X Add disk image Linux Mint 20.X Debian 11.X Rocky Linux 8.X Optical disk selector Linux Mint 20.X Debian 11.X Rocky Linux 8.X ISO attached Linux Mint 20.X Debian 11.X Rocky Linux 8.X Disable audio Linux Mint 20.X Debian 11.X Rocky Linux 8.X NAT network MyNAT Linux Mint 20.X Debian 11.X Rocky Linux 8.X Add shared folder Linux Mint 20.X Debian 11.X Rocky Linux 8.X Virtual machine details Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Configure VM"},{"location":"tutorials/virtualbox-windows/configure-vm/#configuration-virtual-machine","text":"Doorloop eerst onderstaande tabbladen voor \"Linux Mint 20.x\". Vervolgens voor \"Debian 11.x\" en finaal voor \"Rocky Linux 8.5\". Ga dan pas naar \"Install OS\".","title":"Configuration virtual machine"},{"location":"tutorials/virtualbox-windows/configure-vm/#download-iso","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Download ISO"},{"location":"tutorials/virtualbox-windows/configure-vm/#settings","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Settings"},{"location":"tutorials/virtualbox-windows/configure-vm/#clipboard","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Clipboard"},{"location":"tutorials/virtualbox-windows/configure-vm/#boot-order","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X Je mag - ondanks de screenshot - de memory voor Linux Mint verhogen naar 4096 MB (4 GB) RAM. Later installeren we nl. de puppetserver.","title":"Boot order"},{"location":"tutorials/virtualbox-windows/configure-vm/#processor-vcpus","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Processor vCPUs"},{"location":"tutorials/virtualbox-windows/configure-vm/#video-memory","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X Make sure you enable \"3D Acceleration\".","title":"Video memory"},{"location":"tutorials/virtualbox-windows/configure-vm/#insert-iso","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Insert ISO"},{"location":"tutorials/virtualbox-windows/configure-vm/#add-disk-image","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Add disk image"},{"location":"tutorials/virtualbox-windows/configure-vm/#optical-disk-selector","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Optical disk selector"},{"location":"tutorials/virtualbox-windows/configure-vm/#iso-attached","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"ISO attached"},{"location":"tutorials/virtualbox-windows/configure-vm/#disable-audio","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Disable audio"},{"location":"tutorials/virtualbox-windows/configure-vm/#nat-network-mynat","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"NAT network MyNAT"},{"location":"tutorials/virtualbox-windows/configure-vm/#add-shared-folder","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Add shared folder"},{"location":"tutorials/virtualbox-windows/configure-vm/#virtual-machine-details","text":"Linux Mint 20.X Debian 11.X Rocky Linux 8.X","title":"Virtual machine details"},{"location":"tutorials/virtualbox-windows/create-vm/","text":"Creation virtual machine Doorloop eerst onderstaande tabbladen voor \"Linux Mint 20.x\". Vervolgens voor \"Debian 11.x\" en finaal voor \"Rocky Linux 8.5\". Ga dan pas naar \"Configure VM\". New Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Name and OS Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Memory size Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Create harddisk Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Harddisk type Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Storage type Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Harddisk location and size Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5 Virtual machine details Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Create VM"},{"location":"tutorials/virtualbox-windows/create-vm/#creation-virtual-machine","text":"Doorloop eerst onderstaande tabbladen voor \"Linux Mint 20.x\". Vervolgens voor \"Debian 11.x\" en finaal voor \"Rocky Linux 8.5\". Ga dan pas naar \"Configure VM\".","title":"Creation virtual machine"},{"location":"tutorials/virtualbox-windows/create-vm/#new","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"New"},{"location":"tutorials/virtualbox-windows/create-vm/#name-and-os","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Name and OS"},{"location":"tutorials/virtualbox-windows/create-vm/#memory-size","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Memory size"},{"location":"tutorials/virtualbox-windows/create-vm/#create-harddisk","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Create harddisk"},{"location":"tutorials/virtualbox-windows/create-vm/#harddisk-type","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Harddisk type"},{"location":"tutorials/virtualbox-windows/create-vm/#storage-type","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Storage type"},{"location":"tutorials/virtualbox-windows/create-vm/#harddisk-location-and-size","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Harddisk location and size"},{"location":"tutorials/virtualbox-windows/create-vm/#virtual-machine-details","text":"Linux Mint 20.2 Debian 11.2 Rocky Linux 8.5","title":"Virtual machine details"},{"location":"tutorials/virtualbox-windows/final-result/","text":"Final result","title":"Final result"},{"location":"tutorials/virtualbox-windows/final-result/#final-result","text":"","title":"Final result"},{"location":"tutorials/virtualbox-windows/install-os/","text":"Installation operating system Linux Mint 20.X Steps 1 \u2192 5 Step1 Step2 Step3 Step4 Step5 Bij een \"fresh\" installatie krijg je nog de \"Auto capture keyboard\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen. Bij een \"fresh\" installatie krijg je nog de \"mouse pointer integration\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen. Steps 6 \u2192 10 Step6 Step7 Step8 Step9 Step10 Nog geen netwerk. Dat is normaal. Step 11 \u2192 17 Step11 Step12 Step13 Step14 Step15 Step16 Step17 Tik manueel \"Brussels\" in. Paswoord is ook \"guru1\". Herstart. Mogelijks moet je het \"Welcome\" window een beetje verschuiven, om de optie \"Show this dialog at startup\" uit te vinken. Sluit vervolgens dat scherm. Debian 11.X Steps 1 \u2192 8 Step1 Step2 Step3 Step4 Step5 Step6 Step7 Step8 Steps 9 \u2192 16 Step9 Step10 Step11 Step12 Step13 Step14 Step15 Step16 Nog geen netwerk. Dat is normaal. Laat het \"Root password\" veld blanco. Steps 17 \u2192 23 Step17 Step18 Step19 Step20 Step21 Step22 Step23 Steps 24 \u2192 31 Step24 Step25 Step26 Step27 Step28 Step29 Step30 Step31 Steps 32 \u2192 36 Step32 Step33 Step34 Step35 Step36 Rocky Linux 8.X Steps 1 \u2192 8 Step1 Step2 Step3 Step4 Step5 Step6 Step7 Step8 Kies \"Install Rocky Linux 8\". Je krijgt een overzicht. Klik op \"Keyboard\". Klik op het \"plus\"-teken. Selecteer \"English (US)\" en klik op het \"min\"-teken om die te verwijderen. Steps 9 \u2192 16 Step9 Step10 Step11 Step12 Step13 Step14 Step15 Step16 Probeer de keyboard layout gerust eens uit. Laat default. Laat default. Laat default. Laat default. Laat default. Steps 17 \u2192 24 Step17 Step18 Step19 Step20 Step21 Step22 Step23 Step24 Laat het \"Root Password\" veld blanco. Mogelijks moet je wat naar onder \"scrollen\" om \"User Creation\" te kunnen selecteren. Paswoord is ook \"guru3\".","title":"Install OS"},{"location":"tutorials/virtualbox-windows/install-os/#installation-operating-system","text":"","title":"Installation operating system"},{"location":"tutorials/virtualbox-windows/install-os/#linux-mint-20x","text":"","title":"Linux Mint 20.X"},{"location":"tutorials/virtualbox-windows/install-os/#steps-1-5","text":"Step1 Step2 Step3 Step4 Step5 Bij een \"fresh\" installatie krijg je nog de \"Auto capture keyboard\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen. Bij een \"fresh\" installatie krijg je nog de \"mouse pointer integration\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen.","title":"Steps 1 --&gt; 5"},{"location":"tutorials/virtualbox-windows/install-os/#steps-6-10","text":"Step6 Step7 Step8 Step9 Step10 Nog geen netwerk. Dat is normaal.","title":"Steps 6 --&gt; 10"},{"location":"tutorials/virtualbox-windows/install-os/#step-11-17","text":"Step11 Step12 Step13 Step14 Step15 Step16 Step17 Tik manueel \"Brussels\" in. Paswoord is ook \"guru1\". Herstart. Mogelijks moet je het \"Welcome\" window een beetje verschuiven, om de optie \"Show this dialog at startup\" uit te vinken. Sluit vervolgens dat scherm.","title":"Step 11 --&gt; 17"},{"location":"tutorials/virtualbox-windows/install-os/#debian-11x","text":"","title":"Debian 11.X"},{"location":"tutorials/virtualbox-windows/install-os/#steps-1-8","text":"Step1 Step2 Step3 Step4 Step5 Step6 Step7 Step8","title":"Steps 1 --&gt; 8"},{"location":"tutorials/virtualbox-windows/install-os/#steps-9-16","text":"Step9 Step10 Step11 Step12 Step13 Step14 Step15 Step16 Nog geen netwerk. Dat is normaal. Laat het \"Root password\" veld blanco.","title":"Steps 9 --&gt; 16"},{"location":"tutorials/virtualbox-windows/install-os/#steps-17-23","text":"Step17 Step18 Step19 Step20 Step21 Step22 Step23","title":"Steps 17 --&gt; 23"},{"location":"tutorials/virtualbox-windows/install-os/#steps-24-31","text":"Step24 Step25 Step26 Step27 Step28 Step29 Step30 Step31","title":"Steps 24 --&gt; 31"},{"location":"tutorials/virtualbox-windows/install-os/#steps-32-36","text":"Step32 Step33 Step34 Step35 Step36","title":"Steps 32 --&gt; 36"},{"location":"tutorials/virtualbox-windows/install-os/#rocky-linux-8x","text":"","title":"Rocky Linux 8.X"},{"location":"tutorials/virtualbox-windows/install-os/#steps-1-8_1","text":"Step1 Step2 Step3 Step4 Step5 Step6 Step7 Step8 Kies \"Install Rocky Linux 8\". Je krijgt een overzicht. Klik op \"Keyboard\". Klik op het \"plus\"-teken. Selecteer \"English (US)\" en klik op het \"min\"-teken om die te verwijderen.","title":"Steps 1 --&gt; 8"},{"location":"tutorials/virtualbox-windows/install-os/#steps-9-16_1","text":"Step9 Step10 Step11 Step12 Step13 Step14 Step15 Step16 Probeer de keyboard layout gerust eens uit. Laat default. Laat default. Laat default. Laat default. Laat default.","title":"Steps 9 --&gt; 16"},{"location":"tutorials/virtualbox-windows/install-os/#steps-17-24","text":"Step17 Step18 Step19 Step20 Step21 Step22 Step23 Step24 Laat het \"Root Password\" veld blanco. Mogelijks moet je wat naar onder \"scrollen\" om \"User Creation\" te kunnen selecteren. Paswoord is ook \"guru3\".","title":"Steps 17 --&gt; 24"},{"location":"tutorials/virtualbox-windows/install-vb/","text":"Installation VirtualBox 6.1.x Download Huidige versie: 6.1.34 (op 25/4/22) Welcome Features Options Network warning Ready to install Trust Oracle Corporation Microsoft Windows UAC Installing Completed Clean VirtualBox","title":"Install VB"},{"location":"tutorials/virtualbox-windows/install-vb/#installation-virtualbox-61x","text":"","title":"Installation VirtualBox 6.1.x"},{"location":"tutorials/virtualbox-windows/install-vb/#download","text":"Huidige versie: 6.1.34 (op 25/4/22)","title":"Download"},{"location":"tutorials/virtualbox-windows/install-vb/#welcome","text":"","title":"Welcome"},{"location":"tutorials/virtualbox-windows/install-vb/#features","text":"","title":"Features"},{"location":"tutorials/virtualbox-windows/install-vb/#options","text":"","title":"Options"},{"location":"tutorials/virtualbox-windows/install-vb/#network-warning","text":"","title":"Network warning"},{"location":"tutorials/virtualbox-windows/install-vb/#ready-to-install","text":"","title":"Ready to install"},{"location":"tutorials/virtualbox-windows/install-vb/#trust-oracle-corporation","text":"","title":"Trust Oracle Corporation"},{"location":"tutorials/virtualbox-windows/install-vb/#microsoft-windows-uac","text":"","title":"Microsoft Windows UAC"},{"location":"tutorials/virtualbox-windows/install-vb/#installing","text":"","title":"Installing"},{"location":"tutorials/virtualbox-windows/install-vb/#completed","text":"","title":"Completed"},{"location":"tutorials/virtualbox-windows/install-vb/#clean-virtualbox","text":"","title":"Clean VirtualBox"},{"location":"tutorials/virtualbox-windows/pre-configure-os/","text":"Pre-configuration operating system Linux Mint 20.X Guest additions and shared folder: steps 1 \u2192 4 Step1 Step2 Step3 Step4 Reminder: password is \"guru1\". Guest additions and shared folder: steps 5 \u2192 10 Step5 Step6 Step7 Step8 Step9 Step10 Kies \"Restart\". Hoera! Volledige resolutie. De \"host folder\" is momenteel nog niet beschikbaar. Dat is normaal. Zie volgende stap. Dit is nodig om de \"host folder\" beschikbaar te krijgen. Opgelet: doe een \"log off/log on\". Na de \"logoff/logon\" is de \"host folder\" beschikbaar. Debian 11.X Geen pre-configuratie nodig. Rocky Linux 8.X Geen pre-configuratie nodig.","title":"Pre-configure OS"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#pre-configuration-operating-system","text":"","title":"Pre-configuration operating system"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#linux-mint-20x","text":"","title":"Linux Mint 20.X"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#guest-additions-and-shared-folder-steps-1-4","text":"Step1 Step2 Step3 Step4 Reminder: password is \"guru1\".","title":"Guest additions and shared folder: steps 1 --&gt; 4"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#guest-additions-and-shared-folder-steps-5-10","text":"Step5 Step6 Step7 Step8 Step9 Step10 Kies \"Restart\". Hoera! Volledige resolutie. De \"host folder\" is momenteel nog niet beschikbaar. Dat is normaal. Zie volgende stap. Dit is nodig om de \"host folder\" beschikbaar te krijgen. Opgelet: doe een \"log off/log on\". Na de \"logoff/logon\" is de \"host folder\" beschikbaar.","title":"Guest additions and shared folder: steps 5 --&gt; 10"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#debian-11x","text":"Geen pre-configuratie nodig.","title":"Debian 11.X"},{"location":"tutorials/virtualbox-windows/pre-configure-os/#rocky-linux-8x","text":"Geen pre-configuratie nodig.","title":"Rocky Linux 8.X"},{"location":"tutorials/virtualbox-windows/snapshot/","text":"Snapshot Linux Mint 20.X Steps 1 \u2192 3 Step1 Step2 Step3 Debian 11.X Steps 1 \u2192 3 Step1 Step2 Step3 Rocky Linux 8.X Steps 1 \u2192 3 Step1 Step2 Step3","title":"Snapshot"},{"location":"tutorials/virtualbox-windows/snapshot/#snapshot","text":"","title":"Snapshot"},{"location":"tutorials/virtualbox-windows/snapshot/#linux-mint-20x","text":"","title":"Linux Mint 20.X"},{"location":"tutorials/virtualbox-windows/snapshot/#steps-1-3","text":"Step1 Step2 Step3","title":"Steps 1 --&gt; 3"},{"location":"tutorials/virtualbox-windows/snapshot/#debian-11x","text":"","title":"Debian 11.X"},{"location":"tutorials/virtualbox-windows/snapshot/#steps-1-3_1","text":"Step1 Step2 Step3","title":"Steps 1 --&gt; 3"},{"location":"tutorials/virtualbox-windows/snapshot/#rocky-linux-8x","text":"","title":"Rocky Linux 8.X"},{"location":"tutorials/virtualbox-windows/snapshot/#steps-1-3_2","text":"Step1 Step2 Step3","title":"Steps 1 --&gt; 3"}]}