{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"blog/","title":"Blog landing page","text":""},{"location":"blog/2021/blog1/","title":"Blog title","text":"<p>Aliqua nostrud cupidatat laborum pariatur in ipsum nulla dolor sunt sit ex. Fugiat ex ex sunt ad ullamco mollit. Lorem ad eiusmod id dolore. Officia tempor magna dolore sit. Voluptate esse et ex quis do culpa ex dolor consequat. Consequat consectetur ut cupidatat anim aliquip consectetur.</p> <p>Aliquip nostrud consectetur excepteur nostrud velit velit sunt sunt in commodo dolor eiusmod. Sint do id elit voluptate ea reprehenderit consequat commodo velit. Anim pariatur eu amet mollit proident nulla fugiat consectetur. Dolor non elit id amet consectetur. Duis elit ex sunt enim elit ullamco deserunt duis cillum nostrud. Qui do labore id consectetur reprehenderit cillum duis sit. Ullamco ex ut anim qui nostrud irure veniam Lorem amet eiusmod deserunt nostrud quis.</p>"},{"location":"blog/2021/blog2/","title":"Blog title","text":"<p>Aliqua nostrud cupidatat laborum pariatur in ipsum nulla dolor sunt sit ex. Fugiat ex ex sunt ad ullamco mollit. Lorem ad eiusmod id dolore. Officia tempor magna dolore sit. Voluptate esse et ex quis do culpa ex dolor consequat. Consequat consectetur ut cupidatat anim aliquip consectetur.</p> <p>Aliquip nostrud consectetur excepteur nostrud velit velit sunt sunt in commodo dolor eiusmod. Sint do id elit voluptate ea reprehenderit consequat commodo velit. Anim pariatur eu amet mollit proident nulla fugiat consectetur. Dolor non elit id amet consectetur. Duis elit ex sunt enim elit ullamco deserunt duis cillum nostrud. Qui do labore id consectetur reprehenderit cillum duis sit. Ullamco ex ut anim qui nostrud irure veniam Lorem amet eiusmod deserunt nostrud quis.</p>"},{"location":"blog/2022/blog3/","title":"Blog title","text":"<p>Aliqua nostrud cupidatat laborum pariatur in ipsum nulla dolor sunt sit ex. Fugiat ex ex sunt ad ullamco mollit. Lorem ad eiusmod id dolore. Officia tempor magna dolore sit. Voluptate esse et ex quis do culpa ex dolor consequat. Consequat consectetur ut cupidatat anim aliquip consectetur.</p> <p>Aliquip nostrud consectetur excepteur nostrud velit velit sunt sunt in commodo dolor eiusmod. Sint do id elit voluptate ea reprehenderit consequat commodo velit. Anim pariatur eu amet mollit proident nulla fugiat consectetur. Dolor non elit id amet consectetur. Duis elit ex sunt enim elit ullamco deserunt duis cillum nostrud. Qui do labore id consectetur reprehenderit cillum duis sit. Ullamco ex ut anim qui nostrud irure veniam Lorem amet eiusmod deserunt nostrud quis.</p>"},{"location":"blog/2022/blog5/","title":"Blog title","text":"<p>Aliqua nostrud cupidatat laborum pariatur in ipsum nulla dolor sunt sit ex. Fugiat ex ex sunt ad ullamco mollit. Lorem ad eiusmod id dolore. Officia tempor magna dolore sit. Voluptate esse et ex quis do culpa ex dolor consequat. Consequat consectetur ut cupidatat anim aliquip consectetur.</p> <p>Aliquip nostrud consectetur excepteur nostrud velit velit sunt sunt in commodo dolor eiusmod. Sint do id elit voluptate ea reprehenderit consequat commodo velit. Anim pariatur eu amet mollit proident nulla fugiat consectetur. Dolor non elit id amet consectetur. Duis elit ex sunt enim elit ullamco deserunt duis cillum nostrud. Qui do labore id consectetur reprehenderit cillum duis sit. Ullamco ex ut anim qui nostrud irure veniam Lorem amet eiusmod deserunt nostrud quis.</p>"},{"location":"blog/2022/blog6/","title":"Blog title","text":"<p>Aliqua nostrud cupidatat laborum pariatur in ipsum nulla dolor sunt sit ex. Fugiat ex ex sunt ad ullamco mollit. Lorem ad eiusmod id dolore. Officia tempor magna dolore sit. Voluptate esse et ex quis do culpa ex dolor consequat. Consequat consectetur ut cupidatat anim aliquip consectetur.</p> <p>Aliquip nostrud consectetur excepteur nostrud velit velit sunt sunt in commodo dolor eiusmod. Sint do id elit voluptate ea reprehenderit consequat commodo velit. Anim pariatur eu amet mollit proident nulla fugiat consectetur. Dolor non elit id amet consectetur. Duis elit ex sunt enim elit ullamco deserunt duis cillum nostrud. Qui do labore id consectetur reprehenderit cillum duis sit. Ullamco ex ut anim qui nostrud irure veniam Lorem amet eiusmod deserunt nostrud quis.</p>"},{"location":"blog/2022/xmind-8/","title":"Xmind 8 on Linux Mint 20.x","text":"<p>XMind is a mind mapping and brainstorming software. At the time of writing, the current downloadable version is XMind 2022 (12.0.2 evaluation version). If you happen to have some old .xmind files lying around (#like me), created in the award winning version XMind 8 v3.7.9, you can open them with the newer version without a problem. But if you are familiar with the \"legacy\" interface, you can still download and make that version work on a modern Linux system.</p>"},{"location":"blog/2022/xmind-8/#download","title":"Download","text":"guru1@vm1:~$_output <pre><code># directory Downloads/XMind will be created\nwget https://www.xmind.net/xmind/downloads/xmind-8-update9-linux.zip -P Downloads/Xmind/\n</code></pre> <pre><code>guru1@vm1:~$ wget https://www.xmind.net/xmind/downloads/xmind-8-update9-linux.zip -P Downloads/Xmind/\n--2022-05-13 14:09:16--  https://www.xmind.net/xmind/downloads/xmind-8-update9-linux.zip\nResolving www.xmind.net (www.xmind.net)... 3.232.41.189, 44.194.150.33\nConnecting to www.xmind.net (www.xmind.net)|3.232.41.189|:443... connected.\nHTTP request sent, awaiting response... 302 Found\nLocation: https://dl3.xmind.net/xmind-8-update9-linux.zip [following]\n--2022-05-13 14:09:16--  https://dl3.xmind.net/xmind-8-update9-linux.zip\nResolving dl3.xmind.net (dl3.xmind.net)... 13.227.219.86, 13.227.219.108, 13.227.219.84, ...\nConnecting to dl3.xmind.net (dl3.xmind.net)|13.227.219.86|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 120292589 (115M) [application/zip]\nSaving to: \u2018Downloads/Xmind/xmind-8-update9-linux.zip\u2019\n\nxmind-8-update9-linux.zip                                   100%[=========================================================================================================================================&gt;] 114.72M  14.5MB/s    in 11s     \n\n2022-05-13 14:09:28 (9.98 MB/s) - \u2018Downloads/Xmind/xmind-8-update9-linux.zip\u2019 saved [120292589/120292589]\n\nguru1@vm1:~$\n</code></pre>"},{"location":"blog/2022/xmind-8/#unzip-and-remove-zip-file","title":"Unzip and remove zip file","text":"guru1@vm1:~$_output <pre><code>unzip Downloads/Xmind/xmind-8-update9-linux.zip -d Downloads/Xmind/ &gt; /dev/null 2&gt;&amp;1\nrm Downloads/Xmind/xmind-8-update9-linux.zip\n</code></pre> <pre><code>guru1@vm1:~$ unzip Downloads/Xmind/xmind-8-update9-linux.zip -d Downloads/Xmind/ &gt; /dev/null 2&gt;&amp;1\nguru1@vm1:~$ rm Downloads/Xmind/xmind-8-update9-linux.zip\nguru1@vm1:~$\n</code></pre>"},{"location":"blog/2022/xmind-8/#check-and-adjust-requirements","title":"Check and adjust requirements","text":"Step1Step2Step3Step4 <p>List the contents of the installation directory. Notice setup.sh</p> <pre><code>guru1@vm1:~$ ls -lh Downloads/Xmind/\ntotal 676K\n-rw-r--r--  1 guru1 guru1 403K Dec  9  2019 artifacts.xml\ndrwxr-xr-x  2 guru1 guru1 4.0K Dec  9  2019 configuration\n-rw-r--r--  1 guru1 guru1  17K Mar 15  2017 epl-v10.html\ndrwxr-xr-x 25 guru1 guru1 4.0K Dec  9  2019 features\ndrwxr-xr-x  2 guru1 guru1 4.0K Mar 15  2017 fonts\n-rw-r--r--  1 guru1 guru1 8.3K Mar 15  2017 lgpl-3.0.html\ndrwxr-xr-x 21 guru1 guru1 168K Dec  9  2019 plugins\n-rw-r--r--  1 guru1 guru1  38K Dec  9  2019 readme.txt\n-rwxr-xr-x  1 guru1 guru1  546 Jul  2  2018 setup.sh\ndrwxr-xr-x  4 guru1 guru1 4.0K Dec  9  2019 XMind_amd64\ndrwxr-xr-x  4 guru1 guru1 4.0K Dec  9  2019 XMind_i386\n-rw-r--r--  1 guru1 guru1 3.2K Jul 23  2018 xpla.txt\nguru1@vm1:~$\n</code></pre> <p>Check the contents of that file. Notice the required packages.</p> <pre><code>guru1@vm1:~$ cat Downloads/Xmind/setup.sh\n#!/bin/bash\n\nset -e\n\nSCRIPT_NAME=\"$0\"\nSCRIPT_DIR=\"$(cd \"$(dirname \"$SCRIPT_NAME\")\" &amp;&amp; pwd)\"\n\necho \"[setup] Installing dependencies....\"\napt-get install openjdk-8-jre libgtk2.0-0 libwebkitgtk-1.0-0 lame libc6 libglib2.0-0\n\nFONTS_DIR=\"$SCRIPT_DIR/fonts\"\nif [ -d \"$FONTS_DIR\" ]; then\n    echo \"[setup] Installing custom fonts....\"\n    mkdir -p /usr/share/fonts/truetype/xmind\n    rsync -av \"$FONTS_DIR/\" /usr/share/fonts/truetype/xmind/\n    fc-cache -f\nelse\n    echo \"[setup] WARNING: Custom fonts for XMind are not found.\"\nfi\n\necho \"[setup] Done.\"\nguru1@vm1:~$\n</code></pre> <p>Notice that package libwebkitgtk-1.0-0 is not available in the repository. There is a package libwebkit2gtk-4.0-37 already installed though...</p> <pre><code>guru1@vm1:~$ apt-cache policy openjdk-8-jre libgtk2.0-0 libwebkitgtk-1.0-0 lame libc6 libglib2.0-0 | grep \"Candidate\"\n  Candidate: 8u312-b07-0ubuntu1~20.04\n  Candidate: 2.24.32-4ubuntu4\n  Candidate: (none)\n  Candidate: 3.100-3\n  Candidate: 2.31-0ubuntu9.9\n  Candidate: 2.64.6-1~ubuntu20.04.4\n\nguru1@vm1:~$ dpkg -l | grep libwebkit\nii  libwebkit2gtk-4.0-37:amd64                 2.34.6-0ubuntu0.20.04.1             amd64        Web content engine library for GTK\nguru1@vm1:~$ \n</code></pre> <p>And notice that packages libgtk2.0-0, libc6 and libglib2.0-0 are already installed.</p> <pre><code>guru1@vm1:~$ apt-cache policy openjdk-8-jre libgtk2.0-0 libwebkitgtk-1.0-0 lame libc6 libglib2.0-0 | grep \"Installed\"\n  Installed: (none)\n  Installed: 2.24.32-4ubuntu4\n  Installed: (none)\n  Installed: (none)\n  Installed: 2.31-0ubuntu9.7\n  Installed: 2.64.6-1~ubuntu20.04.4\nguru1@vm1:~$ \n</code></pre>"},{"location":"blog/2022/xmind-8/#adjust-setupsh","title":"Adjust setup.sh","text":"guru1@vm1:~$_/home/guru1/Downloads/Xmind/setup.sh <p>I don't know why I would need lame. So we only need 1 package. This sed-oneliner makes the adjustment.</p> <pre><code>sed -i '/apt-get/c\\apt-get install openjdk-8-jre' Downloads/Xmind/setup.sh\n</code></pre> <pre><code>#!/bin/bash\n\nset -e\n\nSCRIPT_NAME=\"$0\"\nSCRIPT_DIR=\"$(cd \"$(dirname \"$SCRIPT_NAME\")\" &amp;&amp; pwd)\"\n\necho \"[setup] Installing dependencies....\"\napt-get install openjdk-8-jre\n\nFONTS_DIR=\"$SCRIPT_DIR/fonts\"\nif [ -d \"$FONTS_DIR\" ]; then\n    echo \"[setup] Installing custom fonts....\"\n    mkdir -p /usr/share/fonts/truetype/xmind\n    rsync -av \"$FONTS_DIR/\" /usr/share/fonts/truetype/xmind/\n    fc-cache -f\nelse\n    echo \"[setup] WARNING: Custom fonts for XMind are not found.\"\nfi\n\necho \"[setup] Done.\"\n</code></pre>"},{"location":"blog/2022/xmind-8/#execute-setupsh","title":"Execute setup.sh","text":"guru1@vm1:~$_output <pre><code>sudo Downloads/Xmind/setup.sh\n</code></pre> <pre><code>guru1@vm1:~$ sudo Downloads/Xmind/setup.sh\n[sudo] password for guru1:\n[setup] Installing dependencies....\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages were automatically installed and are no longer required:\n  linux-headers-5.4.0-94 linux-headers-5.4.0-94-generic linux-headers-5.4.0-96 linux-headers-5.4.0-96-generic linux-image-5.4.0-94-generic linux-image-5.4.0-96-generic linux-modules-5.4.0-94-generic linux-modules-5.4.0-96-generic\n  linux-modules-extra-5.4.0-94-generic linux-modules-extra-5.4.0-96-generic\nUse 'sudo apt autoremove' to remove them.\nThe following additional packages will be installed:\n  fonts-dejavu-extra libatk-wrapper-java libatk-wrapper-java-jni openjdk-8-jre-headless\nSuggested packages:\n  icedtea-8-plugin fonts-ipafont-gothic fonts-ipafont-mincho fonts-wqy-microhei fonts-wqy-zenhei\nThe following NEW packages will be installed:\n  fonts-dejavu-extra libatk-wrapper-java libatk-wrapper-java-jni openjdk-8-jre openjdk-8-jre-headless\n0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 30.3 MB of archives.\nAfter this operation, 112 MB of additional disk space will be used.\nDo you want to continue? [Y/n] y\n...\n</code></pre>"},{"location":"blog/2022/xmind-8/#find-out-the-path-for-java-8","title":"Find out the path for java-8","text":"guru1@vm1:~$_output <pre><code>update-alternatives --display java\n</code></pre> <pre><code>guru1@vm1:~$ update-alternatives --display java\njava - auto mode\n  link best version is /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link currently points to /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link java is /usr/bin/java\n  slave java.1.gz is /usr/share/man/man1/java.1.gz\n/usr/lib/jvm/java-11-openjdk-amd64/bin/java - priority 1111\n  slave java.1.gz: /usr/lib/jvm/java-11-openjdk-amd64/man/man1/java.1.gz\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java - priority 1081\n  slave java.1.gz: /usr/lib/jvm/java-8-openjdk-amd64/jre/man/man1/java.1.gz\n</code></pre>"},{"location":"blog/2022/xmind-8/#adjust-xmindini","title":"Adjust xmind.ini","text":"guru1@vm1:~$_/home/guru1/Downloads/Xmind/XMind_amd64/XMind.ini <p>This sed-onliner adds 2 lines at the beginning of the file. Xmind 8 needs the older java runtime.</p> <pre><code>sudo sed -i '1i -vm\\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin' Downloads/Xmind/XMind_amd64/XMind.ini\n</code></pre> <pre><code>-vm\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin\n-configuration\n./configuration\n-data\n../workspace\n-startup\n../plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\n--launcher.library\n../plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.400.v20160518-1444\n--launcher.defaultAction\nopenFile\n--launcher.GTK_version\n2\n-eclipse.keyring\n@user.home/.xmind/secure_storage_linux\n-vmargs\n-Dfile.encoding=UTF-8\n</code></pre>"},{"location":"blog/2022/xmind-8/#run-xmind-the-right-way","title":"Run Xmind the right way","text":"Step1Step2 <p>This won't work.</p> <p> </p> <p>This will.</p> <p> </p>"},{"location":"tutorials/","title":"Overview","text":"<p>TODO: landing page.</p> <p></p>"},{"location":"tutorials/puppet/","title":"Overview","text":"<p>Deze instructies zeker nog NIET uitvoeren!</p>"},{"location":"tutorials/puppet/hands-on-1/","title":"Install puppet-agent on Debian Linux 11.x","text":""},{"location":"tutorials/puppet/hands-on-1/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","title":"step0: as this is a lab environment: don't ask for the sudo password","text":"guru2@vm2:-$ _<pre><code>echo \"$USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/$USER\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step1-install-wget-package","title":"step1: install wget package","text":"guru2@vm2:-$ _<pre><code>sudo apt-get update\nsudo apt-get install wget\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step2-enable-puppet-repo","title":"step2: enable puppet repo","text":"guru2@vm2:-$ _<pre><code>wget https://apt.puppet.com/puppet7-release-focal.deb\nsudo dpkg -i puppet7-release-focal.deb\nsudo apt-get update\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step3-install-puppet-package","title":"step3: install puppet package","text":"guru2@vm2:-$ _<pre><code>sudo apt-get install puppet-agent\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step4-adjust-system-path","title":"step4: adjust system path","text":"guru2@vm2:-$ _<pre><code>echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' &gt;&gt; .bashrc\nsource .bashrc\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step5-comment-sudo-path-defaults","title":"step5: comment (#) sudo path defaults","text":"commandcontents guru2@vm2:-$ _<pre><code>sudo /usr/sbin/visudo\n</code></pre> /etc/sudoers<pre><code>#\n# This file MUST be edited with the 'visudo' command as root.\n#\n# Please consider adding local content in /etc/sudoers.d/ instead of\n# directly modifying this file.\n#\n# See the man page for details on how to write a sudoers file.\n#\nDefaults    env_reset\nDefaults    mail_badpass\n# Defaults  secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\"\n# Host alias specification\n# User alias specification\n</code></pre>"},{"location":"tutorials/puppet/hands-on-1/#step6-test-puppet","title":"step6: test puppet","text":"guru2@vm2:-$ _<pre><code>sudo puppet help\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/","title":"Explore resource syntax","text":""},{"location":"tutorials/puppet/hands-on-2/#step1-request-a-file-resource-description-that-does-not-yet-exist","title":"step1: request a file resource description that does not yet exist","text":"guru2@vm2:-$ _<pre><code>puppet resource file /tmp/hello\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step2-create-an-empty-file-and-do-the-request-again","title":"step2: create an empty file and do the request again","text":"guru2@vm2:-$ _<pre><code>touch /tmp/hello\npuppet resource file /tmp/hello\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step3-modify-a-file-resource-using-puppet-and-verify","title":"step3: modify a file resource using puppet and verify","text":"guru2@vm2:-$ _<pre><code>puppet resource file /tmp/hello content='Hello world!'\ncat /tmp/hello\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step4-request-a-package-resource-description-that-does-not-yet-exist","title":"step4: request a package resource description that does not yet exist","text":"guru2@vm2:-$ _<pre><code>puppet resource package apache2\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step5-install-a-package-resource","title":"step5: install a package resource","text":"guru2@vm2:-$ _<pre><code>sudo puppet resource package apache2 ensure=present\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step6-describe-a-package-resource-that-already-exists","title":"step6: describe a package resource that already exists","text":"guru2@vm2:-$ _<pre><code>puppet resource package apache2\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step7-create-a-local-puppet-file","title":"step7: create a local puppet file","text":"commandcontents guru2@vm2:-$ _<pre><code>vi create-tmp-papply.pp\n</code></pre> /home/guru2/create-tmp-papply.pp<pre><code>file { '/tmp/papply':\n    ensure =&gt; present,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-2/#step8-execute-locally","title":"step8: execute locally","text":"guru2@vm2:-$ _<pre><code>puppet apply create-tmp-papply.pp\nls -l /tmp/papply\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/","title":"Install puppetserver on Linux Mint 20.x","text":""},{"location":"tutorials/puppet/hands-on-3/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","title":"step0: as this is a lab environment: don't ask for the sudo password","text":"guru1@vm1:-$ _<pre><code>echo \"$USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/$USER\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/#step1-enable-puppet-repo-and-refresh-package-list","title":"step1: enable puppet repo and refresh package list","text":"guru1@vm1:-$ _<pre><code>wget https://apt.puppet.com/puppet7-release-focal.deb\nsudo dpkg -i puppet7-release-focal.deb\nsudo apt-get update\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/#step2-install-puppetserver","title":"step2: install puppetserver","text":"guru1@vm1:-$ _<pre><code>sudo apt-get install puppetserver -y\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/#step3-configure-puppetserver","title":"step3: configure puppetserver","text":"commandcontents guru1@vm1:-$ _<pre><code>sudo vi /etc/puppetlabs/puppet/puppet.conf\n</code></pre> /etc/puppetlabs/puppet/puppet.conf<pre><code># This file can be used to override the default puppet settings.\n# See the following links for more details on what settings are available:\n# - https://puppet.com/docs/puppet/latest/config_important_settings.html\n# - https://puppet.com/docs/puppet/latest/config_about_settings.html\n# - https://puppet.com/docs/puppet/latest/config_file_main.html\n# - https://puppet.com/docs/puppet/latest/configuration.html\n[server]\nvardir = /opt/puppetlabs/server/data/puppetserver\nlogdir = /var/log/puppetlabs/puppetserver\nrundir = /var/run/puppetlabs/puppetserver\npidfile = /var/run/puppetlabs/puppetserver/puppetserver.pid\ncodedir = /etc/puppetlabs/code\n\n[main]\ncertname = vm1.opensysadmins.lab\nserver = vm1.opensysadmins.lab\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/#step4-enable-at-boot-start-and-verify-puppetserver-service","title":"step4: enable at boot, start and verify puppetserver service","text":"guru1@vm1:-$ _<pre><code>sudo systemctl enable puppetserver\nsudo systemctl start puppetserver\nsystemctl status puppetserver\n/opt/puppetlabs/bin/puppetserver -v\n</code></pre>"},{"location":"tutorials/puppet/hands-on-3/#step5-check-current-certificates","title":"step5: check current certificates","text":"guru1@vm1:-$ _<pre><code>sudo /opt/puppetlabs/bin/puppetserver ca list --all\n</code></pre>"},{"location":"tutorials/puppet/hands-on-4/","title":"Connect puppet-agent on Debian 11.x to puppetserver on Linux Mint 20.x","text":""},{"location":"tutorials/puppet/hands-on-4/#step1-run-puppet-manually-on-the-puppet-agent-ask-for-a-certificate","title":"step1: run puppet manually on the puppet-agent (ask for a certificate)","text":"guru2@vm2:-$ _<pre><code>sudo puppet agent --server=vm1.opensysadmins.lab --no-daemonize --verbose --onetime\n</code></pre>"},{"location":"tutorials/puppet/hands-on-4/#step2-sign-and-verify-the-certificate-on-the-puppetserver","title":"step2: sign and verify the certificate on the puppetserver","text":"guru1@vm1:-$ _<pre><code>sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm2.opensysadmins.lab\nsudo /opt/puppetlabs/bin/puppetserver ca list --all\n</code></pre>"},{"location":"tutorials/puppet/hands-on-4/#step3-run-puppet-manually-apply-catalog","title":"step3: run puppet manually (apply catalog)","text":"guru2@vm2:-$ _<pre><code>sudo puppet agent --server=vm1.opensysadmins.lab --no-daemonize --verbose --onetime\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/","title":"Install Visual Studio Code","text":""},{"location":"tutorials/puppet/hands-on-5/#step1-enable-microsoft-repo-and-refresh-package-list","title":"step1: enable Microsoft repo and refresh package list","text":"guru1@vm1:-$ _<pre><code>wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &gt; packages.microsoft.gpg\nsudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/\nsudo sh -c 'echo \"deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main\" &gt; /etc/apt/sources.list.d/vscode.list'\nrm -f packages.microsoft.gpg\nsudo apt-get update\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/#step2-install-the-package","title":"step2: install the package","text":"guru1@vm1:-$ _<pre><code>sudo apt-get install code\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/#step3-only-root-can-write-in-the-manifest-and-modules-directories","title":"step3: only 'root' can write in the \"manifest and modules\" directories","text":"commandoutput guru1@vm1:-$ _<pre><code>sudo apt-get install tree\ntree -ugp /etc/puppetlabs/code/environments/production/\n</code></pre> /etc/puppetlabs/code/environments/production/<pre><code>\u251c\u2500\u2500 [drwxr-xr-x root     root    ]  data\n\u251c\u2500\u2500 [-rw-r--r-- root     root    ]  environment.conf\n\u251c\u2500\u2500 [-rw-r--r-- root     root    ]  hiera.yaml\n\u251c\u2500\u2500 [drwxr-xr-x root     root    ]  manifests\n\u2514\u2500\u2500 [drwxr-xr-x root     root    ]  modules\n\n3 directories, 2 files\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/#step4-quick-fix","title":"step4: quick fix","text":"guru1@vm1:-$ _<pre><code>sudo chmod o+w /etc/puppetlabs/code/environments/production/{manifests,modules}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/#step5-open-visual-studio-code-in-the-production-directory","title":"step5: open Visual Studio Code in the production directory","text":"guru1@vm1:-$ _<pre><code>cd /etc/puppetlabs/code/environments/production/\ncode .\n</code></pre>"},{"location":"tutorials/puppet/hands-on-5/#step6-configure-visual-studio-code","title":"step6: configure Visual Studio Code","text":"<ul> <li>Trust the author of all files...</li> <li>Close the \"Get Started\" tab</li> <li>Create site.pp + Search marketplace</li> <li>Select \"Puppet: the Official Puppet VSCode extension</li> <li>Click \"Install\"</li> <li>Click \"Don't show again\"</li> <li>Close the \"Extension: Puppet\" tab</li> </ul>"},{"location":"tutorials/puppet/hands-on-5/#step7-writing-your-first-main-manifest","title":"step7: writing your first main manifest","text":"<ul> <li>Don't forget to File -&gt; Save (All)</li> </ul>"},{"location":"tutorials/puppet/hands-on-5/#step8-run-puppet-manually-apply-catalog","title":"step8: run puppet manually (apply catalog)","text":"guru2@vm2:-$ _<pre><code>sudo puppet agent --server=vm1.opensysadmins.lab --no-daemonize --verbose --onetime\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/","title":"Expand manifest and refactor","text":""},{"location":"tutorials/puppet/hands-on-6/#step1-document-your-code","title":"step1: document your code","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step2-add-a-package-resource","title":"step2: add a package resource","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the package is installed\npackage { 'nmap':\nensure =&gt; installed,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step3-add-another-package","title":"step3: add another package","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the package is installed\npackage { 'nmap':\nensure =&gt; installed,\n}\n# make sure the package is installed\npackage { 'net-tools':\nensure =&gt; installed,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step4-refactor-bundle-packages","title":"step4: refactor - bundle packages","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step5-create-an-user-resource","title":"step5: create an user resource","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step6-add-a-package-that-runs-a-service","title":"step6: add a package (that runs a service)","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step7-manage-the-service-first-time-dependency","title":"step7: manage the service - first time \"dependency\"","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n# make sure the service is started at boot time, running at all times but only if it is installed\nservice { 'sshd':\nenable  =&gt; true,\nensure  =&gt; running,\nrequire =&gt; Package['openssh-server'],\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step8-manage-the-configuration-of-the-service","title":"step8: manage the configuration of the service","text":"site.pp<pre><code># this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n# make sure the service is started at boot time, running at all times but only if it is installed\nservice { 'sshd':\nenable  =&gt; true,\nensure  =&gt; running,\nrequire =&gt; Package['openssh-server'],\n}\n# this file is for customizing ssh settings\nfile { '/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step9-bundle-base-resources-into-a-base-class","title":"step9: bundle base resources into a base class","text":"site.pp<pre><code>class base {\n# this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n}\ninclude base\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n# make sure the service is started at boot time, running at all times but only if it is installed\nservice { 'sshd':\nenable  =&gt; true,\nensure  =&gt; running,\nrequire =&gt; Package['openssh-server'],\n}\n# this file is for customizing ssh settings\nfile { '/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step10-bundle-ssh-resources-into-a-ssh-class","title":"step10: bundle ssh resources into a ssh class","text":"site.pp<pre><code>class base {\n# this file gives a nice message at logon\nfile { '/etc/motd':\ncontent =&gt; \"This file is managed by Puppet. Do not change manually!\\n\"\n}\n# make sure the packages are installed\npackage {[  'nmap',\n'net-tools' ]:\nensure =&gt; installed,\n}\n# create user without password\nuser { 'vdab':\nensure     =&gt; present,\nuid        =&gt; '1001',\ncomment    =&gt; 'System admin',\nshell      =&gt; '/bin/bash',\nmanagehome =&gt; true,\n}\n}\ninclude base\nclass ssh {\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n# make sure the service is started at boot time, running at all times but only if it is installed\nservice { 'sshd':\nenable  =&gt; true,\nensure  =&gt; running,\nrequire =&gt; Package['openssh-server'],\n}\n# this file is for customizing ssh settings\nfile { '/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\n}\n}\ninclude ssh\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step11-create-this-folder-structure","title":"step11: create this folder structure","text":""},{"location":"tutorials/puppet/hands-on-6/#step12-extract-the-base-class","title":"step12: extract the base class","text":"init.ppsite.pp <p>Create a file \"init.pp\" in directory \"base/manifests\", cut the \"base\" class code out of site.pp and paste into init.pp</p> <p> </p> <p>Left over after cutting the \"base\" class.</p> <p> </p>"},{"location":"tutorials/puppet/hands-on-6/#step13-extract-the-ssh-class","title":"step13: extract the ssh class","text":"init.ppsite.pp <p>Create a file \"init.pp\" in directory \"ssh/manifests\", cut the \"ssh\" class code out of site.pp and paste into init.pp</p> <p> </p> <p>Left over after cutting the \"ssh\" class.</p> <p> </p>"},{"location":"tutorials/puppet/hands-on-6/#step14-introduction-to-node","title":"step14: introduction to \"node\"","text":"site.pp<pre><code>node 'vm2.opensysadmins.lab' {\ninclude base\ninclude ssh\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step15-lets-refactor-the-ssh-class-further","title":"step15: let's refactor the ssh class further","text":"<ul> <li>Create new empty files install.pp, service.pp and configure.pp</li> <li>Adjust ssh/manifests/init.pp with the \"name space syntax\"</li> </ul>"},{"location":"tutorials/puppet/hands-on-6/#step16-extract-the-install-service-and-config-class-into-their-files","title":"step16: extract the install, service and config class into their files","text":"init.ppinstall.ppservice.ppconfig.pp <pre><code>class ssh {\ninclude ssh::install, ssh::service, ssh::config\n}\n</code></pre> <pre><code>class ssh::install {\n# make sure the package is installed\npackage { 'openssh-server':\nensure =&gt; installed,\n}\n}\n</code></pre> <pre><code>class ssh::service {\n# make sure the service is started at boot time, running at all times but only if it is installed\nservice {'sshd':\nenable  =&gt; true,\nensure  =&gt; running,\nrequire =&gt; Package['openssh-server'],\n}\n}\n</code></pre> <pre><code>class ssh::config {\n# this file is for customizing ssh settings\nfile {'/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\n}\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step17-push-a-file-to-the-puppet-agent","title":"step17: push a file to the puppet-agent","text":"filecontents <ul> <li>Create new empty file sshd_config</li> <li>Fill it with the \"contents\"</li> </ul> <ul> <li>Added header</li> <li>Changed listening port</li> </ul> sshd_config<pre><code>#\n# This file is managed by Puppet. Any changes will be overwritten!!!\n#\n#   $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $\n# This is the sshd server system-wide configuration file.  See\n# sshd_config(5) for more information.\n# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin\n# The strategy used for options in the default sshd_config shipped with\n# OpenSSH is to specify options with their default value where\n# possible, but leave them commented.  Uncommented options override the\n# default value.\nInclude /etc/ssh/sshd_config.d/*.conf\n\nPort 2222\n#AddressFamily any\n#ListenAddress 0.0.0.0\n#ListenAddress ::\n#HostKey /etc/ssh/ssh_host_rsa_key\n#HostKey /etc/ssh/ssh_host_ecdsa_key\n#HostKey /etc/ssh/ssh_host_ed25519_key\n# Ciphers and keying\n#RekeyLimit default none\n# Logging\n#SyslogFacility AUTH\n#LogLevel INFO\n# Authentication:\n#LoginGraceTime 2m\n#PermitRootLogin prohibit-password\n#StrictModes yes\n#MaxAuthTries 6\n#MaxSessions 10\n#PubkeyAuthentication yes\n# Expect .ssh/authorized_keys2 to be disregarded by default in future.\n#AuthorizedKeysFile .ssh/authorized_keys .ssh/authorized_keys2\n#AuthorizedPrincipalsFile none\n#AuthorizedKeysCommand none\n#AuthorizedKeysCommandUser nobody\n# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts\n#HostbasedAuthentication no\n# Change to yes if you don't trust ~/.ssh/known_hosts for\n# HostbasedAuthentication\n#IgnoreUserKnownHosts no\n# Don't read the user's ~/.rhosts and ~/.shosts files\n#IgnoreRhosts yes\n# To disable tunneled clear text passwords, change to no here!\n#PasswordAuthentication yes\n#PermitEmptyPasswords no\n# Change to yes to enable challenge-response passwords (beware issues with\n# some PAM modules and threads)\nChallengeResponseAuthentication no\n\n# Kerberos options\n#KerberosAuthentication no\n#KerberosOrLocalPasswd yes\n#KerberosTicketCleanup yes\n#KerberosGetAFSToken no\n# GSSAPI options\n#GSSAPIAuthentication no\n#GSSAPICleanupCredentials yes\n#GSSAPIStrictAcceptorCheck yes\n#GSSAPIKeyExchange no\n# Set this to 'yes' to enable PAM authentication, account processing,\n# and session processing. If this is enabled, PAM authentication will\n# be allowed through the ChallengeResponseAuthentication and\n# PasswordAuthentication.  Depending on your PAM configuration,\n# PAM authentication via ChallengeResponseAuthentication may bypass\n# the setting of \"PermitRootLogin without-password\".\n# If you just want the PAM account and session checks to run without\n# PAM authentication, then enable this but set PasswordAuthentication\n# and ChallengeResponseAuthentication to 'no'.\nUsePAM yes\n\n#AllowAgentForwarding yes\n#AllowTcpForwarding yes\n#GatewayPorts no\nX11Forwarding yes\n#X11DisplayOffset 10\n#X11UseLocalhost yes\n#PermitTTY yes\nPrintMotd no\n#PrintLastLog yes\n#TCPKeepAlive yes\n#PermitUserEnvironment no\n#Compression delayed\n#ClientAliveInterval 0\n#ClientAliveCountMax 3\n#UseDNS no\n#PidFile /var/run/sshd.pid\n#MaxStartups 10:30:100\n#PermitTunnel no\n#ChrootDirectory none\n#VersionAddendum none\n# no default banner path\n#Banner none\n# Allow client to pass locale environment variables\nAcceptEnv LANG LC_*\n\n# override default of no subsystems\nSubsystem   sftp    /usr/lib/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#   X11Forwarding no\n#   AllowTcpForwarding no\n#   PermitTTY no\n#   ForceCommand cvs server\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step18-adjust-config","title":"step18: adjust config","text":"config.pp<pre><code>    class ssh::config {\n# this file is for customizing ssh settings\nfile {'/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\nsource  =&gt; 'puppet:///modules/ssh/sshd_config',\n}\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step19-push-a-file-to-the-puppet-agent-based-on-os","title":"step19: push a file to the puppet-agent based on OS","text":"filecontents <ul> <li>Create new empty file sshd_config_rpm</li> <li>Fill it with the \"contents\"</li> </ul> <ul> <li>Added header</li> </ul> sshd_config<pre><code>#\n# This file is managed by Puppet. Any changes will be overwritten!!!\n#\n#   $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $\n# This is the sshd server system-wide configuration file.  See\n# sshd_config(5) for more information.\n# This sshd was compiled with PATH=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin\n# The strategy used for options in the default sshd_config shipped with\n# OpenSSH is to specify options with their default value where\n# possible, but leave them commented.  Uncommented options override the\n# default value.\n# If you want to change the port on a SELinux system, you have to tell\n# SELinux about this change.\n# semanage port -a -t ssh_port_t -p tcp #PORTNUMBER\n#\n#Port 22\n#AddressFamily any\n#ListenAddress 0.0.0.0\n#ListenAddress ::\nHostKey /etc/ssh/ssh_host_rsa_key\nHostKey /etc/ssh/ssh_host_ecdsa_key\nHostKey /etc/ssh/ssh_host_ed25519_key\n\n# Ciphers and keying\n#RekeyLimit default none\n# This system is following system-wide crypto policy. The changes to\n# crypto properties (Ciphers, MACs, ...) will not have any effect here.\n# They will be overridden by command-line options passed to the server\n# on command line.\n# Please, check manual pages for update-crypto-policies(8) and sshd_config(5).\n# Logging\n#SyslogFacility AUTH\nSyslogFacility AUTHPRIV\n#LogLevel INFO\n# Authentication:\n#LoginGraceTime 2m\nPermitRootLogin yes\n#StrictModes yes\n#MaxAuthTries 6\n#MaxSessions 10\n#PubkeyAuthentication yes\n# The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2\n# but this is overridden so installations will only check .ssh/authorized_keys\nAuthorizedKeysFile  .ssh/authorized_keys\n\n#AuthorizedPrincipalsFile none\n#AuthorizedKeysCommand none\n#AuthorizedKeysCommandUser nobody\n# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts\n#HostbasedAuthentication no\n# Change to yes if you don't trust ~/.ssh/known_hosts for\n# HostbasedAuthentication\n#IgnoreUserKnownHosts no\n# Don't read the user's ~/.rhosts and ~/.shosts files\n#IgnoreRhosts yes\n# To disable tunneled clear text passwords, change to no here!\n#PasswordAuthentication yes\n#PermitEmptyPasswords no\nPasswordAuthentication yes\n\n# Change to no to disable s/key passwords\n#ChallengeResponseAuthentication yes\nChallengeResponseAuthentication no\n\n# Kerberos options\n#KerberosAuthentication no\n#KerberosOrLocalPasswd yes\n#KerberosTicketCleanup yes\n#KerberosGetAFSToken no\n#KerberosUseKuserok yes\n# GSSAPI options\nGSSAPIAuthentication yes\nGSSAPICleanupCredentials no\n#GSSAPIStrictAcceptorCheck yes\n#GSSAPIKeyExchange no\n#GSSAPIEnablek5users no\n# Set this to 'yes' to enable PAM authentication, account processing,\n# and session processing. If this is enabled, PAM authentication will\n# be allowed through the ChallengeResponseAuthentication and\n# PasswordAuthentication.  Depending on your PAM configuration,\n# PAM authentication via ChallengeResponseAuthentication may bypass\n# the setting of \"PermitRootLogin without-password\".\n# If you just want the PAM account and session checks to run without\n# PAM authentication, then enable this but set PasswordAuthentication\n# and ChallengeResponseAuthentication to 'no'.\n# WARNING: 'UsePAM no' is not supported in Fedora and may cause several\n# problems.\nUsePAM yes\n\n#AllowAgentForwarding yes\n#AllowTcpForwarding yes\n#GatewayPorts no\nX11Forwarding yes\n#X11DisplayOffset 10\n#X11UseLocalhost yes\n#PermitTTY yes\n# It is recommended to use pam_motd in /etc/pam.d/sshd instead of PrintMotd,\n# as it is more configurable and versatile than the built-in version.\nPrintMotd no\n\n#PrintLastLog yes\n#TCPKeepAlive yes\n#PermitUserEnvironment no\n#Compression delayed\n#ClientAliveInterval 0\n#ClientAliveCountMax 3\n#UseDNS no\n#PidFile /var/run/sshd.pid\n#MaxStartups 10:30:100\n#PermitTunnel no\n#ChrootDirectory none\n#VersionAddendum none\n# no default banner path\n#Banner none\n# Accept locale-related environment variables\nAcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\nAcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\nAcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\nAcceptEnv XMODIFIERS\n\n# override default of no subsystems\nSubsystem   sftp    /usr/libexec/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#   X11Forwarding no\n#   AllowTcpForwarding no\n#   PermitTTY no\n#   ForceCommand cvs server\n</code></pre>"},{"location":"tutorials/puppet/hands-on-6/#step20-use-conditional-logic-to-determine-file-source","title":"step20: use conditional logic to determine file source","text":"config.pp<pre><code>    class ssh::config {\n# this file is for customizing ssh settings\nfile {'/etc/ssh/sshd_config':\nensure  =&gt; present,\nowner   =&gt; 'root',\ngroup   =&gt; 'root',\nmode    =&gt; '0600',\nnotify  =&gt; Service['sshd'],\nsource  =&gt; $osfamily ? {\n/(Ubuntu|Debian)/        =&gt; 'puppet:///modules/ssh/sshd_config',\n/(RedHat|CentOS|Fedora)/ =&gt; 'puppet:///modules/ssh/sshd_config_rpm',\n},\n}\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/","title":"Install puppet-agent on Rocky Linux 8.5","text":""},{"location":"tutorials/puppet/hands-on-7/#step0-as-this-is-a-lab-environment-dont-ask-for-the-sudo-password","title":"step0: as this is a lab environment: don't ask for the sudo password","text":"guru3@vm3:-$ _<pre><code>echo \"$USER ALL=(ALL:ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/$USER\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step1-enable-puppet-repo-run-the-rpm-tool-in-upgrade-mode","title":"step1: enable puppet repo (run the rpm tool in upgrade mode)","text":"guru3@vm3:-$ _<pre><code>sudo rpm -Uvh https://yum.puppet.com/puppet7-release-el-8.noarch.rpm\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step2-install-package","title":"step2: install package","text":"guru3@vm3:-$ _<pre><code>sudo yum install puppet-agent\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step3-adjust-system-path","title":"step3: adjust system path","text":"guru3@vm3:-$ _<pre><code>echo 'export PATH=/opt/puppetlabs/bin:/opt/puppetlabs/puppet/bin:$PATH' &gt;&gt; .bashrc\nsource .bashrc\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step4-comment-sudo-path-defaults","title":"step4: comment (#) sudo path defaults","text":"commandcontents guru3@vm3:-$ _<pre><code>sudo /usr/sbin/visudo\n</code></pre> /etc/sudoers<pre><code>## Sudoers allows particular users to run various commands as\n## the root user, without needing the root password.\n##\n## Examples are provided at the bottom of the file for collections\n## of related commands, which can then be delegated out to particular\n## users or groups.\n## \n...\n...\n# Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin\n...\n...\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step5-test-puppet","title":"step5: test puppet","text":"guru3@vm3:-$ _<pre><code>sudo puppet help\n</code></pre>"},{"location":"tutorials/puppet/hands-on-7/#step6-adjust-the-main-manifest-to-include-vm3","title":"step6: adjust the main manifest to include vm3","text":"site.pp<pre><code>node 'vm2.opensysadmins.lab', 'vm3.opensysadmins.lab' {\ninclude base\ninclude ssh\n}\n</code></pre>"},{"location":"tutorials/puppet/hands-on-8/","title":"Connect puppet-agent on Rocky 6.x to puppetserver on Linux Mint 20.x","text":""},{"location":"tutorials/puppet/hands-on-8/#step1-run-puppet-manually-ask-for-a-certificate","title":"step1: run puppet manually (ask for a certificate)","text":"guru3@vm3:-$ _<pre><code>sudo puppet agent --server=vm1.opensysadmins.lab --no-daemonize --verbose --onetime\n</code></pre>"},{"location":"tutorials/puppet/hands-on-8/#step2-sign-and-verify-the-certificate-on-the-puppetserver","title":"step2: sign and verify the certificate on the puppetserver","text":"guru1@vm1:-$ _<pre><code>sudo /opt/puppetlabs/bin/puppetserver ca sign --certname vm3.opensysadmins.lab\nsudo /opt/puppetlabs/bin/puppetserver ca list --all\n</code></pre>"},{"location":"tutorials/puppet/hands-on-8/#step3-run-puppet-manually-apply-catalog","title":"step3: run puppet manually (apply catalog)","text":"guru3@vm3:-$ _<pre><code>sudo puppet agent --server=vm1.opensysadmins.lab --no-daemonize --verbose --onetime\n</code></pre>"},{"location":"tutorials/virtualbox-windows/","title":"Overview","text":"<p>Landing page.</p>"},{"location":"tutorials/virtualbox-windows/01-install-vb/","title":"Installation VirtualBox","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#download","title":"Download","text":"<p>Huidige versie: 6.1.34 (op 25/4/22)</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/01-install-vb/#welcome","title":"Welcome","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#features","title":"Features","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#options","title":"Options","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#network-warning","title":"Network warning","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#ready-to-install","title":"Ready to install","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#trust-oracle-corporation","title":"Trust Oracle Corporation","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#microsoft-windows-uac","title":"Microsoft Windows UAC","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#installing","title":"Installing","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#completed","title":"Completed","text":""},{"location":"tutorials/virtualbox-windows/01-install-vb/#clean-virtualbox","title":"Clean VirtualBox","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/","title":"Configuration VirtualBox","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/#preferences","title":"Preferences","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/#no-updates","title":"No updates","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/#add-nat-network","title":"Add NAT network","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/#edit-nat-network","title":"Edit NAT network","text":""},{"location":"tutorials/virtualbox-windows/03-configure-vb/#nat-network-details","title":"NAT network details","text":"<p>Opgelet: DHCP uitzetten.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/03-configure-vb/#nat-network-renamed","title":"NAT network renamed","text":""},{"location":"tutorials/virtualbox-windows/04-create-vm/","title":"Creation virtual machines","text":""},{"location":"tutorials/virtualbox-windows/04-create-vm/#linux-mint-20x","title":"Linux Mint 20.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8"},{"location":"tutorials/virtualbox-windows/04-create-vm/#debian-11x","title":"Debian 11.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8"},{"location":"tutorials/virtualbox-windows/04-create-vm/#rocky-linux-8x","title":"Rocky Linux 8.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8"},{"location":"tutorials/virtualbox-windows/05-configure-vm/","title":"Configuration virtual machines","text":""},{"location":"tutorials/virtualbox-windows/05-configure-vm/#linux-mint-20x","title":"Linux Mint 20.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14 <p>Download the ISO from the official website.</p> <p> </p> <p>Right-click on the virtual machine -&gt; Settings.</p> <p> </p> <p>Change both \"Shared Clipboard\" and \"Drag'n'Drop\" to \"Bidirectional\".</p> <p> </p> <p>Change the boot sequence. First \"Hard disk\", then \"Optical\". Uncheck \"Floppy\".</p> <p> </p> <p>Change \"Processor(s) to \"2\".</p> <p> </p> <p>Change \"Video Memory\" to \"128\".</p> <p> </p> <p>Choose/Create a Virtual Optical Disk...</p> <p> </p> <p>Click \"Add\" and select the correct ISO.</p> <p> </p> <p>Click \"Choose\".</p> <p> </p> <p>The correct ISO should be selected.</p> <p> </p> <p>We don't need audio. Deselect \"Enable Audio\".</p> <p> </p> <p>Select \"NAT Network\" and choose \"MyNAT\".</p> <p> </p> <p>Auto-mount the host's \"Downloads\" folder as a shared folder.</p> <p> </p> <p>Verify if all virtual machine details are correct.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/05-configure-vm/#debian-11x","title":"Debian 11.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14 <p>Download the ISO from the official website.</p> <p> </p> <p>Right-click on the virtual machine -&gt; Settings.</p> <p> </p> <p>Change both \"Shared Clipboard\" and \"Drag'n'Drop\" to \"Bidirectional\".</p> <p> </p> <p>Change the boot sequence. First \"Hard disk\", then \"Optical\". Uncheck \"Floppy\".</p> <p> </p> <p>Change \"Processor(s) to \"2\".</p> <p> </p> <p>Change \"Video Memory\" to \"128\".</p> <p> </p> <p>Choose/Create a Virtual Optical Disk...</p> <p> </p> <p>Click \"Add\" and select the correct ISO.</p> <p> </p> <p>Click \"Choose\".</p> <p> </p> <p>The correct ISO should be selected.</p> <p> </p> <p>We don't need audio. Deselect \"Enable Audio\".</p> <p> </p> <p>Select \"NAT Network\" and choose \"MyNAT\".</p> <p> </p> <p>Auto-mount the host's \"Downloads\" folder as a shared folder.</p> <p> </p> <p>Verify if all virtual machine details are correct.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/05-configure-vm/#rocky-8x","title":"Rocky 8.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14 <p>Download the ISO from the official website.</p> <p> </p> <p>Right-click on the virtual machine -&gt; Settings.</p> <p> </p> <p>Change both \"Shared Clipboard\" and \"Drag'n'Drop\" to \"Bidirectional\".</p> <p> </p> <p>Change the boot sequence. First \"Hard disk\", then \"Optical\". Uncheck \"Floppy\".</p> <p> </p> <p>Change \"Processor(s) to \"2\".</p> <p> </p> <p>Change \"Video Memory\" to \"128\".</p> <p> </p> <p>Choose/Create a Virtual Optical Disk...</p> <p> </p> <p>Click \"Add\" and select the correct ISO.</p> <p> </p> <p>Click \"Choose\".</p> <p> </p> <p>The correct ISO should be selected.</p> <p> </p> <p>We don't need audio. Deselect \"Enable Audio\".</p> <p> </p> <p>Select \"NAT Network\" and choose \"MyNAT\".</p> <p> </p> <p>Auto-mount the host's \"Downloads\" folder as a shared folder.</p> <p> </p> <p>Verify if all virtual machine details are correct.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/06-install-os/","title":"Installation operating system","text":""},{"location":"tutorials/virtualbox-windows/06-install-os/#linux-mint-20x","title":"Linux Mint 20.x","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14Step15Step16Step17 <p>Bij een \"fresh\" installatie krijg je nog de \"Auto capture keyboard\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen.</p> <p> </p> <p> </p> <p> </p> <p>Bij een \"fresh\" installatie krijg je nog de \"mouse pointer integration\" melding. Klik op het witte tekstballonnetje om deze melding definitief te verbergen.</p> <p> </p> <p>Nog geen netwerk. Dat is normaal.</p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Tik manueel \"Brussels\" in.</p> <p> </p> <p>Paswoord is ook \"guru1\".</p> <p> </p> <p> </p> <p>Herstart.</p> <p> </p> <p> </p> <p>Mogelijks moet je het \"Welcome\" window een beetje verschuiven, om de optie \"Show this dialog at startup\" uit te vinken. Sluit vervolgens dat scherm.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/06-install-os/#debian-11x","title":"Debian 11.x","text":""},{"location":"tutorials/virtualbox-windows/06-install-os/#steps-1-20","title":"Steps 1-&gt;20","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14Step15Step16Step17Step18Step19Step20 <p>Nog geen netwerk. Dat is normaal.    </p> <p> </p> <p> </p> <p> </p> <p>Laat het \"Root password\" veld blanco.</p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p>"},{"location":"tutorials/virtualbox-windows/06-install-os/#steps-21-36","title":"Steps 21-&gt;36","text":"Step21Step22Step23Step24Step25Step26Step27Step28Step29Step30Step31Step32Step33Step34Step35Step36"},{"location":"tutorials/virtualbox-windows/06-install-os/#rocky-linux-8x","title":"Rocky Linux 8.x","text":""},{"location":"tutorials/virtualbox-windows/06-install-os/#steps-1-20_1","title":"Steps 1-&gt;20","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12Step13Step14Step15Step16Step17Step18Step19Step20 <p>Kies \"Install Rocky Linux 8\".</p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Je krijgt een overzicht. Klik op \"Keyboard\".</p> <p> </p> <p>Klik op het \"plus\"-teken.</p> <p> </p> <p>Selecteer \"English (US)\" en klik op het \"min\"-teken om die te verwijderen.</p> <p> </p> <p>Probeer de keyboard layout gerust eens uit.</p> <p> </p> <p> </p> <p>Laat default.</p> <p> </p> <p> </p> <p>Laat default.</p> <p> </p> <p>Laat default.</p> <p> </p> <p>Laat default.</p> <p> </p> <p>Laat default.</p> <p> </p> <p>Laat het \"Root Password\" veld blanco.</p> <p> </p> <p>Mogelijks moet je wat naar onder \"scrollen\" om \"User Creation\" te kunnen selecteren.</p> <p> </p> <p>Paswoord is ook \"guru3\".</p> <p> </p> <p> </p>"},{"location":"tutorials/virtualbox-windows/06-install-os/#steps-21-24","title":"Steps 21-&gt;24","text":"Step21Step22Step23Step24"},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/","title":"Pre-configuration operating system","text":""},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/#linux-mint-20x","title":"Linux Mint 20.x","text":""},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/#guest-additions","title":"Guest additions","text":"Step1Step2Step3Step4Step5Step6Step7 <p>Reminder: password is \"guru1\".</p> <p> </p> <p> </p> <p> </p> <p>Kies \"Restart\".</p> <p> </p> <p>Hoera! Volledige resolutie.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/#shared-folder","title":"Shared folder","text":"Step1Step2Step3 <p>De \"host folder\" is momenteel nog niet beschikbaar. Dat is normaal. Zie volgende stap.</p> <p> </p> <p>Dit is nodig om de \"host folder\" beschikbaar te krijgen. Opgelet: doe een \"log off/log on\".</p> <p> </p> <p>Na de \"logoff/logon\" is de \"host folder\" beschikbaar.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/#debian-11x","title":"Debian 11.x","text":"<p>Geen pre-configuratie nodig.</p>"},{"location":"tutorials/virtualbox-windows/07-pre-configure-os/#rocky-linux-8x","title":"Rocky Linux 8.x","text":"<p>Geen pre-configuratie nodig.</p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/","title":"Configuration operating system","text":""},{"location":"tutorials/virtualbox-windows/08-configure-os/#linux-mint-20x","title":"Linux Mint 20.x","text":""},{"location":"tutorials/virtualbox-windows/08-configure-os/#ipv4default-gatewaydns","title":"IPv4/default gateway/DNS","text":"Step1Step2Step3 <p>Rechtsklik op het \"netwerk icoontje\".</p> <p> </p> <p> </p> <p>Gebruik de \"schuif button\" bij \"Wired\" om de connectie te activeren. Mocht de \"Connection established\" niet verschijnen, moet je mogelijks \"herstarten\".</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#full-update","title":"Full update","text":"Step1Step2Step3Step4Step5Step6Step7Step8Step9Step10Step11Step12 <p>Klik voorlopig op \"No\" in de blauwe balk.</p> <p> </p> <p> </p> <p>Mogelijks is een nieuwe versie van de \"Update Manager\" beschikbaar. Doe de update.</p> <p> </p> <p>Reminder: password is \"guru1\".</p> <p> </p> <p> </p> <p> </p> <p>Reminder: paswoord is \"guru1\".</p> <p> </p> <p> </p> <p> </p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#ignore-system-reports","title":"Ignore system reports","text":"Step1Step2 <p>Menu -&gt; Administration -&gt; System Reports. Selecteer telkens \"Ignore this report\" bij alle openstaande \"reports\".</p> <p> </p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#resolving-host-names","title":"Resolving host names","text":"Step1Step2 <p>Reminder: password is \"guru1\".</p> <p> </p> <p>Text editor \"nano\" wijst zichzelf uit. Gebruikers van \"vi\", laat je gaan!</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#shutdown","title":"Shutdown","text":"<p>We verwijderen nog gauw even onze commando historiek en zetten de machine uit.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#debian-11x","title":"Debian 11.x","text":""},{"location":"tutorials/virtualbox-windows/08-configure-os/#ipv4default-gatewaydns_1","title":"IPv4/default gateway/DNS","text":"Step1Step2Step3Step4Step5Step6 <p>Login met gebruiker \"guru2\". Password is ook \"guru2\".</p> <p> </p> <p>De netwerkinterface heet \"enp0s3\". We gaan die configureren.</p> <p> </p> <p>Neem onderstaande configuratie over.</p> <p> </p> <p>Instellen nameserver.</p> <p> </p> <p>Neem onderstaande configuratie over.</p> <p> </p> <p>Herstart de netwerk service. Vervolgens zou de ping moeten lukken.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#full-update_1","title":"Full update","text":"Step1Step2Step3Step4 <p>Configuratie van de package source file.</p> <p> </p> <p>Dit wordt het meeste typwerk. Geen fouten maken! ;-)</p> <p> </p> <p>Bijwerken van de lijst met beschikbare pakketten en hun versies.</p> <p> </p> <p>Uitvoeren van de effectieve \"upgrade\" van alle ge\u00efnstalleerde pakketten.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#resolving-host-names_1","title":"Resolving host names","text":"Step1Step2"},{"location":"tutorials/virtualbox-windows/08-configure-os/#shutdown_1","title":"Shutdown","text":""},{"location":"tutorials/virtualbox-windows/08-configure-os/#rocky-linux-8x","title":"Rocky Linux 8.x","text":""},{"location":"tutorials/virtualbox-windows/08-configure-os/#ipv4default-gatewaydns_2","title":"IPv4/default gateway/DNS","text":"Step1Step2Step3Step4 <p>Inloggen met \"guru3\". Password is ook \"guru3\".</p> <p> </p> <p> </p> <p>Neem onderstaande configuratie over. Sommige regels zijn reeds aanwezig (en/of moeten aangepast worden).</p> <p> </p> <p>Herstart de netwerk service. Vervolgens zou de ping moeten lukken.</p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#full-update_2","title":"Full update","text":"Step1Step2Step3"},{"location":"tutorials/virtualbox-windows/08-configure-os/#resolving-host-names_2","title":"Resolving host names","text":"Step1Step2Step3Step4 <p>Of gebruik \"nano\" indien meer comfortabel.</p> <p> </p> <p> </p> <p> </p> <p> </p>"},{"location":"tutorials/virtualbox-windows/08-configure-os/#shutdown_2","title":"Shutdown","text":""},{"location":"tutorials/virtualbox-windows/09-snapshot/","title":"Snapshot","text":""},{"location":"tutorials/virtualbox-windows/09-snapshot/#linux-mint-20x","title":"Linux Mint 20.x","text":"Step1Step2Step3"},{"location":"tutorials/virtualbox-windows/09-snapshot/#debian-11x","title":"Debian 11.x","text":"Step1Step2Step3"},{"location":"tutorials/virtualbox-windows/09-snapshot/#rocky-linux-8x","title":"Rocky Linux 8.x","text":"Step1Step2Step3"},{"location":"tutorials/virtualbox-windows/10-final-result/","title":"Final result","text":""}]}